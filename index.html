<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CertifyLab — Aprende • Practica • Compite</title>

  <style>
    :root{
      --bg:#0f1320;--surface:#161b2d;--surface2:#1b2140;--ink:#e8ecff;--muted:#9ca8d9;
      --stroke:#283056;--brand:#6c8bff;--aws:#ff9900;--azure:#0078d4;
      --radius:14px;--shadow:0 12px 28px rgba(6,12,40,.45);
      --btn-bg:linear-gradient(180deg,#6c8bff,#3e64ff);--btn-ink:#fff;
      --chip-az-bg:rgba(0,120,212,.16);--chip-az-bd:rgba(0,120,212,.4);--chip-az-ink:#9fd2ff;
      --chip-aws-bg:rgba(255,153,0,.18);--chip-aws-bd:rgba(255,153,0,.4);--chip-aws-ink:#ffd79a;

      /* Cabecera pill */
      --pill-bg:linear-gradient(180deg,#151b31,#12182c);
      --pill-ring:#2a3150;
      --pill-btn-bg:linear-gradient(180deg,#7a67ff,#5f48ff);
      --pill-btn-bg-hover:linear-gradient(180deg,#8a78ff,#6b54ff);
    }
    *{box-sizing:border-box}
    body{
      margin:0;font-family:Inter,ui-sans-serif,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      color:var(--ink);
      background:
        radial-gradient(900px 420px at 90% -10%,rgba(255,153,0,.12),transparent 60%),
        radial-gradient(800px 400px at 10% 0%,rgba(0,120,212,.12),transparent 60%),
        var(--bg);
      line-height:1.6;overflow-x:hidden;
    }
    a{color:inherit;text-decoration:none}
    .container{max-width:1100px;margin:0 auto;padding:0 20px}

    /* ===== HEADER ===== */
    header{
      position:sticky;top:0;z-index:50;backdrop-filter:blur(10px);
      background:linear-gradient(180deg,rgba(15,19,32,.85),rgba(15,19,32,.55));
      border-bottom:1px solid var(--stroke)
    }
    .nav{height:64px;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:10px;font-weight:900}
    .brand .logo-pill{
      width:18px;height:34px;border-radius:10px;
      background:linear-gradient(180deg,#8aa0ff 0%,#425dff 100%);
      box-shadow:0 0 0 6px rgba(108,139,255,.18);
    }
    .menu{display:flex;gap:12px;color:var(--muted);font-weight:800}
    .menu a.link-btn{
      display:inline-flex;align-items:center;justify-content:center;
      min-width:110px;height:40px;padding:0 12px;border-radius:10px;border:1px solid transparent;
      font-weight:900
    }
    .menu a.link-btn:hover{border-color:#2a3150;color:var(--ink)}

    /* Cápsula derecha */
    .authwrap{
      display:flex;align-items:center;gap:8px;
      background:var(--pill-bg); border:1px solid var(--pill-ring);
      border-radius:999px; padding:6px; box-shadow:0 6px 18px rgba(5,10,30,.35);
    }
    .hello{display:flex;align-items:center;gap:8px;color:#cbd3ff;font-weight:800;padding:6px 10px}
    .pill-btn{
      display:inline-flex;align-items:center;justify-content:center;
      min-width:100px;
      height:40px; padding:0 14px;border-radius:12px;border:1px solid #3b2fff44;
      background:var(--pill-btn-bg); color:#fff; font-weight:900; cursor:pointer;
      transition:transform .08s ease, box-shadow .12s ease, background .12s ease;
    }
    .pill-btn:hover{background:var(--pill-btn-bg-hover); transform:translateY(-1px)}
    .pill-btn:active{transform:translateY(0)}

    .btn{
      display:inline-flex;align-items:center;justify-content:center;
      height:40px;padding:0 14px;border-radius:12px;border:1px solid var(--stroke);
      background:transparent;color:var(--ink);font-weight:900;
    }
    .btn:hover{border-color:#3a4580}

    @media (max-width:720px){
      .menu{gap:8px}
      .menu a.link-btn{min-width:90px;height:36px}
      .authwrap{gap:6px}
      .pill-btn{min-width:92px;height:36px;padding:0 10px}
      .btn{height:36px}
      .hello{display:none}
    }

    /* ===== Secciones ===== */
    .hero{padding:36px 0 14px;text-align:center}
    .hero h1{margin:0 0 4px;font-size:clamp(1.9rem,4.4vw,3.1rem)}
    .lead{color:var(--muted);max-width:760px;margin:6px auto 0}
    .hero-actions{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:12px}

    section{padding:26px 0}
    .sec-title{font-size:1.4rem;font-weight:900;margin-bottom:4px}
    .muted{color:var(--muted);font-size:.95rem}
    .grid{display:grid;gap:14px;margin-top:12px}
    @media(min-width:720px){.grid{grid-template-columns:repeat(3,1fr)}}
    .card{background:linear-gradient(180deg,#111937,#0f1633);border:1px solid var(--stroke);
      border-radius:14px;padding:14px;box-shadow:var(--shadow);transition:transform .12s ease}
    .card:hover{transform:translateY(-2px)}
    .row{display:flex;flex-direction:column;align-items:center;gap:10px}
    .btns-row{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}

    .chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;font-weight:800}
    .chip.azure{background:var(--chip-az-bg);border:1px solid var(--chip-az-bd);color:var(--chip-az-ink)}
    .chip.aws{background:var(--chip-aws-bg);border:1px solid var(--chip-aws-bd);color:var(--chip-aws-ink)}

    /* ===== Centro de contenidos ===== */

    /* Selector (filtro certificación) */
    .filter-bar{
      display:flex;align-items:center;gap:10px;background:var(--surface2);
      border:1px solid var(--stroke);border-radius:12px;padding:12px 14px;margin-top:10px
    }
    .filter-bar label{font-weight:900;white-space:nowrap}
    .filter-bar select{
      appearance:none;background:#0f1630;border:1px solid var(--stroke);
      border-radius:10px;color:var(--ink);font-weight:800;padding:10px 12px;min-width:260px;
    }

    /* Carrusel 2x3 con paginación */
    .carousel{position:relative;margin-top:12px}
    .track{
      display:grid;
      grid-template-columns:repeat(3, 1fr);
      gap:12px;
      min-height: 420px; /* altura estable al paginar */
    }
    @media(max-width:900px){ .track{grid-template-columns:repeat(2, 1fr)} }
    @media(max-width:560px){ .track{grid-template-columns:1fr} }
    .slide{display:none}
    .slide.show{display:block}
    .cc-head{display:flex;align-items:center;gap:8px;margin-bottom:8px}
    .dot{width:10px;height:10px;border-radius:999px;display:inline-block}
    .dot.az{background:#0078d4}
    .dot.aws{background:#ff9900}
    .dot.multi{background:conic-gradient(from 0deg,#ff9900 0 50%,#0078d4 50% 100%)}

    .cc-meta{display:flex; align-items:center; gap:8px; color:var(--muted); font-size:.9rem;}
    .cc-meta .grow{ display:inline-flex; align-items:center; gap:8px; margin-right:auto; }

    .tiny-btn{
      display:inline-flex;align-items:center;justify-content:center;
      height:28px; padding:0 10px; border-radius:8px;
      border:1px solid #3b2fff44; background:linear-gradient(180deg,#7a67ff,#5f48ff);
      color:#fff; font-weight:900; cursor:pointer;
      transition:transform .08s ease, background .12s ease, box-shadow .12s ease;
      white-space:nowrap;
    }
    .tiny-btn:hover{ transform:translateY(-1px) }

    .car-btn{
      position:absolute;top:45%;transform:translateY(-50%);
      width:44px;height:44px;border-radius:999px;border:1px solid rgba(0,0,0,.08);
      background:rgba(255,255,255,.95);color:#0f1320;font-weight:900;
      display:flex;align-items:center;justify-content:center;cursor:pointer;
      box-shadow:0 6px 18px rgba(0,0,0,.35);z-index:2
    }
    .car-btn[disabled]{opacity:.5;cursor:not-allowed}
    .car-btn:hover:not([disabled]){background:#ffffff;color:#0a0e1a}
    .car-prev{left:-10px}
    .car-next{right:-10px}

    /* How & CTA */
    .how-grid{display:grid;gap:10px;margin-top:12px}
    @media(min-width:820px){.how-grid{grid-template-columns:repeat(4,1fr)}}
    .how-step{background:var(--surface);border:1px solid var(--stroke);border-radius:12px;padding:14px}

    .cta{display:grid;grid-template-columns:1.1fr .9fr;border:1px solid var(--stroke);border-radius:14px;overflow:hidden;background:var(--surface);margin-top:14px}
    @media(max-width:820px){.cta{grid-template-columns:1fr}}
    .cta .left{padding:18px}
    .cta .right{padding:18px;background:var(--surface2)}
    .tag{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:rgba(255,153,0,.12);border:1px solid rgba(255,153,0,.3);color:#ffd7a0;font-weight:800}

    footer{border-top:1px solid var(--stroke);padding:24px 0;color:#9ca8d9}
    .f-grid{display:grid;gap:14px}
    @media(min-width:720px){.f-grid{grid-template-columns:1.2fr .8fr .8fr .8fr}}

    .center{display:flex;align-items:center;justify-content:center}
    .hidden{display:none !important}
    .login-msg{margin-top:6px}
  </style>
</head>
<body>
  <!-- ===== CABECERA ===== -->
  <header>
    <div class="container nav">
      <div class="brand"><span class="logo-pill"></span> <span>CertifyLab</span></div>

      <nav class="menu">
        <a class="link-btn" href="#simuladores">Home</a>
        <a class="link-btn" href="#simuladores">Simuladores</a>
        <a class="link-btn" href="#contenidos">Contenidos</a>
        <a class="link-btn" href="/score/ranking.html">Ranking</a>
      </nav>

      <!-- Cápsula de autenticación -->
      <div class="authwrap" id="authWrap">
        <!-- Estado no autenticado -->
        <a id="btnLogin"  class="pill-btn" href="/login/login.html">Login</a>
        <a id="btnSignup" class="pill-btn" href="/login/login.html#signup">Crear</a>

        <!-- Estado autenticado -->
        <div id="userArea" style="display:none;align-items:center;gap:8px">
          <div class="hello">👋 <span id="userNameTop" style="font-weight:900">User</span></div>
          <a class="pill-btn" href="/user/profile.html">Perfil</a>
          <button id="btnLogout" class="pill-btn" type="button">Salir</button>
        </div>
      </div>
    </div>
  </header>

  <!-- ===== HERO ===== -->
  <section class="hero">
    <div class="container">
      <h1>🎮 Aprende, practica y compite</h1>
      <p class="lead">Simula exámenes reales, suma puntos y escala en los rankings.</p>
      <div class="hero-actions">
        <a class="btn" href="/score/ranking.html">🏆 Ver ranking global</a>
      </div>
    </div>
  </section>

  <!-- ===== Cómo funciona + CTA ===== -->
  <section>
    <div class="container">
      <div class="sec-title">ESTRATEGIA PARA APROBAR TU CERTIFICACIÓN TI</div>
      <div class="how-grid">
        <div class="how-step"><strong>1) Elige tu ruta</strong><br><span class="muted">Filtra por certificación, proveedor o nivel.</span></div>
        <div class="how-step"><strong>2) Aprende rápido</strong><br><span class="muted">Notas claras y hojas de trucos.</span></div>
        <div class="how-step"><strong>3) Simula el examen</strong><br><span class="muted">Modo estudio o examen cronometrado.</span></div>
        <div class="how-step"><strong>4) Aprueba</strong><br><span class="muted">Revisa tus estadísticas y repite.</span></div>
      </div>

      <div class="cta">
        <div class="left">
          <span class="tag">LANZAMOS NUESTRA WEB. PARTICIPA!</span>
          <h2 style="margin:8px 0 6px;font-size:clamp(1.4rem,3.6vw,2rem)">Regístrate y empieza gratis</h2>
          <p class="muted">Artículos y simuladores básicos. Compite y desbloquea modos avanzados.</p>
          <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:10px">
            <a class="pill-btn" href="/login/login.html?view=signup">Crear cuenta</a>
          </div>
        </div>
        <div class="right">
          <div>✅ Modo práctica (modo examen en desarrollo)</div>
          <div>✅ Explicaciones y referencias centradas en aprobar</div>
          <div>✅ Tips de estudio por cada dominio de la certificación</div>
          <div>✅ Perfil de usuario con estadísticas y progreso</div>
          <div>✅ Preguntas marcadas y budgets conseguidos</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== Simuladores ===== -->
  <section id="simuladores">
    <div class="container">
      <div class="sec-title">SIMULADOR DE EXAMENES (BETA)</div>
      <div class="muted">Modo estudio o examen cronometrado. Más simuladores pronto.</div>
      <div class="grid" id="simGrid"></div>
    </div>
  </section>

  <!-- ===== Centro de contenidos ===== -->
  <section id="contenidos">
    <div class="container">
      <div class="sec-title">CONTENIDO CLAVE POR CERTIFICACIÓN</div>
      <div class="muted">Solo lo esencial: resúmenes rápidos, hojas de trucos y guías prácticas enfocadas en el examen.</div>

      <!-- Filtro de certificación -->
      <div class="filter-bar">
        <label for="examSelect">Selecciona Certificación:</label>
        <select id="examSelect">
          <option value="all">TODAS</option>
          <option value="az-104">AZ-104 · Microsoft Azure Administrator</option>
          <option value="aws-saa-c03">SAA-C03 · AWS Solutions Architect Associate</option>
        </select>
      </div>

      <!-- Carrusel 2×3 -->
      <div class="carousel">
        <button class="car-btn car-prev" aria-label="Anterior">‹</button>
        <div class="track" id="contentTrack">
          <!-- Añadimos data-exam para filtrar (az-104 | aws-saa-c03 | mixed) -->

          <article class="card slide" data-exam="az-104">
            <div class="cc-head">
              <span class="dot az" title="Azure · AZ-104"></span>
              <strong>Guía rápida: VNet Peering vs. VPN Gateway</strong>
            </div>
            <p class="muted">Entiende cuándo usar peering y cuándo optar por VPN…</p>
            <div class="cc-meta">
              <span class="grow"><span class="chip azure"><b>AZURE</b></span><span>AZ-104</span></span>
              <a class="tiny-btn" href="content/vnet-peering-vpn.html">Leer</a>
            </div>
          </article>

          <article class="card slide" data-exam="az-104">
            <div class="cc-head">
              <span class="dot az"></span>
              <strong>Checklist de seguridad para suscripciones Azure</strong>
            </div>
            <p class="muted">15 puntos accionables para endurecer tu postura…</p>
            <div class="cc-meta">
              <span class="grow"><span class="chip azure"><b>AZURE</b></span><span>AZ-104</span></span>
              <a class="tiny-btn" href="content/azure-security-checklist.html">Leer</a>
            </div>
          </article>

          <article class="card slide" data-exam="mixed">
            <div class="cc-head">
              <span class="dot multi"></span>
              <strong>Backup inmutable: patrón de ciberrecuperación</strong>
            </div>
            <p class="muted">Cómo diseñar un vault y una landing zone…</p>
            <div class="cc-meta">
              <span class="grow">
                <span class="chip azure"><b>AZURE</b></span><span>AZ-305</span> ·
                <span class="chip aws"><b>AWS</b></span><span>SAA-C03</span>
              </span>
              <a class="tiny-btn" href="content/immutable-backup-cyberrecovery.html">Leer</a>
            </div>
          </article>

          <article class="card slide" data-exam="az-104">
            <div class="cc-head">
              <span class="dot az"></span>
              <strong>Arquitectura de Landing Zone en Azure</strong>
            </div>
            <p class="muted">Referencia de diseño con jerarquías, RBAC, redes y políticas.</p>
            <div class="cc-meta">
              <span class="grow"><span class="chip azure"><b>AZURE</b></span><span>AZ-305</span></span>
              <a class="tiny-btn" href="content/azure-landing-zone.html">Leer</a>
            </div>
          </article>

          <article class="card slide" data-exam="aws-saa-c03">
            <div class="cc-head">
              <span class="dot aws"></span>
              <strong>Alta disponibilidad en VPC: patrones prácticos</strong>
            </div>
            <p class="muted">Subredes por AZ, NATs, balanceo y resiliencia para SAA-C03.</p>
            <div class="cc-meta">
              <span class="grow"><span class="chip aws"><b>AWS</b></span><span>SAA-C03</span></span>
              <a class="tiny-btn" href="content/aws-vpc-ha.html">Leer</a>
            </div>
          </article>

          <article class="card slide" data-exam="az-104">
            <div class="cc-head">
              <span class="dot az"></span>
              <strong>Azure Storage: operación y seguridad</strong>
            </div>
            <p class="muted">Acceso RBAC/SAS, replicación y WORM para datos críticos.</p>
            <div class="cc-meta">
              <span class="grow"><span class="chip azure"><b>AZURE</b></span><span>AZ-104</span></span>
              <a class="tiny-btn" href="content/azure-storage-az104.html">Leer</a>
            </div>
          </article>

          <article class="card slide" data-exam="az-104">
            <div class="cc-head">
              <span class="dot az"></span>
              <strong>Conectividad híbrida en Azure</strong>
            </div>
            <p class="muted">VPN, ExpressRoute, BGP y hub-spoke con seguridad.</p>
            <div class="cc-meta">
              <span class="grow"><span class="chip azure"><b>AZURE</b></span><span>AZ-305</span></span>
              <a class="tiny-btn" href="content/azure-hybrid-connectivity-az305.html">Leer</a>
            </div>
          </article>

          <article class="card slide" data-exam="aws-saa-c03">
            <div class="cc-head">
              <span class="dot aws"></span>
              <strong>S3: seguridad, durabilidad y rendimiento</strong>
            </div>
            <p class="muted">Políticas mínimas, KMS, lifecycle y endpoints privados.</p>
            <div class="cc-meta">
              <span class="grow"><span class="chip aws"><b>AWS</b></span><span>SAA-C03</span></span>
              <a class="tiny-btn" href="content/aws-s3-design-saac03.html">Leer</a>
            </div>
          </article>

          <article class="card slide" data-exam="aws-saa-c03">
            <div class="cc-head">
              <span class="dot aws"></span>
              <strong>Patrones con SQS y SNS</strong>
            </div>
            <p class="muted">Fanout, FIFO, DLQ y eventos resilientes.</p>
            <div class="cc-meta">
              <span class="grow"><span class="chip aws"><b>AWS</b></span><span>SAA-C03</span></span>
              <a class="tiny-btn" href="content/aws-sqs-sns-patterns.html">Leer</a>
            </div>
          </article>
        </div>
        <button class="car-btn car-next" aria-label="Siguiente">›</button>
      </div>
    </div>
  </section>

  <!-- ===== Pie ===== -->
  <footer>
    <div class="container f-grid">
      <div>
        <div class="brand"><span class="logo-pill"></span> <span>CertifyLab</span></div>
        <p style="margin:8px 0 0;">Aprender, practicar y aprobar. Todo en un solo lugar.</p>
      </div>
      <div>
        <div style="font-weight:800">Simuladores</div>
        <div><a href="quiz.html?quiz=az-104">AZ-104</a></div>
        <div><a href="quiz.html?quiz=az-305">AZ-305</a></div>
        <div><a href="quiz.html?quiz=aws-saa-c03">SAA-C03</a></div>
      </div>
      <div>
        <div style="font-weight:800">Contenidos</div>
        <div><a href="content/vnet-peering-vpn.html">Azure · Redes</a></div>
        <div><a href="content/azure-security-checklist.html">Azure · Seguridad</a></div>
        <div><a href="content/immutable-backup-cyberrecovery.html">Backup inmutable</a></div>
        <div><a href="content/azure-landing-zone.html">Azure · Landing Zone</a></div>
        <div><a href="content/aws-vpc-ha.html">AWS · VPC HA</a></div>
        <div><a href="content/azure-storage-az104.html">Azure · Storage (AZ-104)</a></div>
        <div><a href="content/azure-hybrid-connectivity-az305.html">Azure · Conectividad híbrida</a></div>
        <div><a href="content/aws-s3-design-saac03.html">AWS · S3 diseño</a></div>
        <div><a href="content/aws-sqs-sns-patterns.html">AWS · SQS & SNS</a></div>
      </div>
      <div>
        <div style="font-weight:800">Contacto</div>
        <div>hola@certifylab.io</div>
      </div>
    </div>
    <div class="container" style="margin-top:12px;font-size:12px;">© <span id="y"></span> CertifyLab.</div>
  </footer>

  <script>
    // Año
    document.getElementById('y').textContent = new Date().getFullYear();

    // ====== AUTH de la cabecera ======
    function getCurrentUser(){ try{ return JSON.parse(localStorage.getItem("currentUser")||"null"); }catch{ return null; } }
    function isAuthed(){ return !!getCurrentUser(); }
    function renderHeaderAuth(){
      const u = getCurrentUser();
      const login  = document.getElementById('btnLogin');
      const signup = document.getElementById('btnSignup');
      const userArea = document.getElementById('userArea');
      const nameTop  = document.getElementById('userNameTop');
      if(u){
        login.style.display='none'; signup.style.display='none';
        userArea.style.display='flex'; nameTop.textContent = u.name || u.email || 'User';
      }else{
        login.style.display='inline-flex'; signup.style.display='inline-flex';
        userArea.style.display='none';
      }
    }
    document.getElementById('btnLogout')?.addEventListener('click', ()=>{ localStorage.removeItem('currentUser'); renderHeaderAuth(); renderSims(); });
    renderHeaderAuth();

    // ====== Cards de simuladores ======
    const CATALOG = [
      {id:'AZ-104',provider:'Microsoft azure',title:'Administrator Associate',duration:'90 min',questions:60,level:'Intermedio',quiz:'az-104'},
      // {id:'AZ-305',provider:'azure',title:'Architect Expert',duration:'75 min',questions:50,level:'Avanzado',quiz:'az-305'},
      {id:'SAA-C03',provider:'amazon aws',title:'Solutions Architect Associate',duration:'130 min',questions:65,level:'Intermedio',quiz:'aws-saa-c03'}
    ];
    const simGrid=document.getElementById('simGrid');
    function chip(p){return `<span class="chip ${p}"><b>${p.toUpperCase()}</b></span>`}

    function renderSims(){
      simGrid.innerHTML='';
      const authed = isAuthed();
      CATALOG.forEach(c=>{
        const el=document.createElement('article'); el.className='card';
        const startLabel = authed ? '▶ Empezar' : '🔒 Login to Start';
        const startHref  = authed ? `quiz.html?quiz=${c.quiz}` : '/login/login.html';
        const loginMsg = authed ? '' : `<div class="muted login-msg">Inicia sesión para comenzar este simulador.</div>`;
        el.innerHTML=`
          <div class="row">
            <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:center">
              ${chip(c.provider)} <strong>${c.id} ${c.title}</strong>
            </div>
            <div class="btns-row">
              <a class="pill-btn" href="/score/ranking.html?quiz=${c.quiz}">🏆 Ranking</a>
              <a class="pill-btn start-btn" data-quiz="${c.quiz}" href="${startHref}">${startLabel}</a>
            </div>
            ${loginMsg}
          </div>`;
        simGrid.appendChild(el);
      });
    }
    renderSims();

    // Click en empezar
    document.addEventListener('click', e=>{
      const b=e.target.closest('.start-btn'); if(!b) return;
      if(isAuthed()){
        const url=new URL('quiz.html', location.href);
        url.searchParams.set('quiz', b.dataset.quiz);
        location.href=url.toString();
      }else{
        location.href='/login/login.html';
      }
    });

    // ===== Carrusel 2x3 con filtro y paginación =====
    const track = document.getElementById('contentTrack');
    const allSlides = Array.from(track.querySelectorAll('.slide'));
    const prevBtn = document.querySelector('.car-prev');
    const nextBtn = document.querySelector('.car-next');
    const select  = document.getElementById('examSelect');

    const PAGE_SIZE = 6; // 2 filas x 3 columnas
    let page = 0;
    let filter = 'all';

    function filteredSlides(){
      if(filter==='all') return allSlides;
      return allSlides.filter(s => s.dataset.exam === filter || s.dataset.exam === 'mixed');
    }

    function renderCarousel(){
      // reset visibilidad
      allSlides.forEach(s => s.classList.remove('show'));
      const items = filteredSlides();

      // paginación
      const start = page * PAGE_SIZE;
      const end   = start + PAGE_SIZE;
      items.slice(start, end).forEach(s => s.classList.add('show'));

      // estado flechas
      prevBtn.disabled = (page === 0);
      nextBtn.disabled = (end >= items.length);
    }

    select.addEventListener('change', ()=>{
      filter = select.value;
      page = 0;
      renderCarousel();
    });

    prevBtn.addEventListener('click', ()=>{ if(page>0){ page--; renderCarousel(); }});
    nextBtn.addEventListener('click', ()=>{
      const total = filteredSlides().length;
      if((page+1)*PAGE_SIZE < total){ page++; renderCarousel(); }
    });

    // primer pintado
    renderCarousel();
  </script>
</body>
</html>

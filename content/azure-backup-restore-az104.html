<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Backup & Restore para VMs y Azure Files (AZ-104) | ITHub.es</title>
<meta name="description" content="Gu√≠a premium de balanceo de carga en Azure para AZ-104: Load Balancer, Application Gateway y Azure Front Door, con patrones de examen y laboratorio." />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DYZ3GCXHEK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DYZ3GCXHEK');
</script>

<style>

:root{
  --bg:#0e111a; --surface:#121826; --surface2:#0f1523; --ink:#eaf0ff; --muted:#a9b6e5; --stroke:#24304d;
  --badge:#1a2135; --ok:#3ad97a; --warn:#ffd66b; --bad:#ff6b6b;
  --radius:16px; --shadow:0 24px 48px rgba(8,12,30,.45);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family:Inter,ui-sans-serif,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  color:var(--ink);background:var(--bg);line-height:1.65;overflow-x:hidden;
}
a{color:inherit;text-decoration:none}
.container{max-width:1180px;margin:0 auto;padding:0 16px}

/* Header */
header{position:sticky;top:0;z-index:40;backdrop-filter:blur(10px);
  background:linear-gradient(180deg,rgba(10,14,25,.9),rgba(10,14,25,.55));
  border-bottom:1px solid var(--stroke)}
.nav{height:64px;display:flex;align-items:center;justify-content:space-between;gap:10px}
.brand{display:flex;align-items:center;gap:10px;font-weight:900;text-transform:uppercase}
.brand img.site-logo{height:40px;width:auto;display:block}
nav.menu{display:flex;gap:12px;color:var(--muted);font-weight:800;align-items:center;text-transform:uppercase}
nav.menu a{display:inline-flex;align-items:center;justify-content:center;min-width:100px;height:38px;padding:0 12px;border-radius:12px;border:1px solid transparent}
nav.menu a:hover{border-color:#2b3455;color:var(--ink)}
.authwrap{display:flex;align-items:center;gap:6px;background:linear-gradient(180deg,#161d33,#121a31); border:1px solid #2b3455; border-radius:999px; padding:4px 6px; box-shadow:0 8px 20px rgba(5,10,30,.35); max-height:44px;}
.pill-btn{display:inline-flex;align-items:center;justify-content:center;min-width:84px;height:32px;padding:0 12px;border-radius:10px;border:1px solid #3b2fff44;background:linear-gradient(180deg,#7e73ff,#6457ff);color:#fff;font-weight:900;cursor:pointer;font-size:12px;text-transform:uppercase}
.pill-btn:hover{transform:translateY(-1px)}
.hello{display:flex;align-items:center;gap:6px;color:#cbd3ff;font-weight:800;padding:4px 8px;font-size:12px}

/* Hero */
.hero{padding:26px 0 8px}
.exam-chip{ display:inline-flex; align-items:center; gap:10px; padding:8px 14px; 
  border-radius:20px; border:1px solid var(--stroke); background:var(--badge); font-weight:900 }
.exam-chip i{width:16px;height:2px;background:#ffe9cc;display:inline-block;box-shadow:0 6px 0 #ffe9cc, 0 -6px 0 #ffe9cc;border-radius:2px}
.exam-chip.azure{ border-color:rgba(106,169,255,.7); background:rgba(18,30,52,.55); color:#e7f1ff }
h1{font-size:clamp(1.6rem,3.6vw,2.6rem);margin:16px 0 10px;text-align:center}
.meta{display:flex;flex-wrap:wrap;gap:10px;margin:6px 0 0;justify-content:center}
.meta .pill{padding:8px 12px;border:1px solid var(--stroke);border-radius:999px;font-weight:800;background:var(--surface)}

/* Layout */
.grid{
  display:grid;
  grid-template-columns:260px minmax(0,1fr);
  gap:18px;
  margin-top:16px;
}
@media(max-width:980px){
  .grid{grid-template-columns:1fr}
}

/* Sidebar index */
.aside{background:linear-gradient(180deg,#0f1627,#0f1424); border:1px solid var(--stroke); border-radius:var(--radius); padding:14px; box-shadow:var(--shadow)}
.aside h3{margin:8px 0 10px}
.toc{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}
.toc a{display:flex;align-items:center;gap:10px;padding:8px 10px;border-radius:12px;border:1px solid #22304f;background:#0e1629;font-weight:800;color:#dbe7ff;font-size:.86rem}
.toc a small{color:#9fb3e7;font-weight:700}
.toc a:hover{border-color:#31539a; transform:translateX(2px)}

/* Content column */
.content-wrap{
  max-width:880px;
  margin:0 auto;
}

/* Content card */
.card{background:linear-gradient(180deg,#111937,#0f1633);border:1px solid var(--stroke);border-radius:var(--radius);padding:16px 18px;box-shadow:var(--shadow);margin-bottom:14px}
.card h2{margin:2px 0 8px;font-size:clamp(1.15rem,2.1vw,1.55rem)}
.card h3{margin:10px 0 6px;font-size:1.02rem}
.card p{margin:0 0 6px}
.card ul, .card ol{margin:0 0 6px 20px}

/* Callouts */
blockquote.tip,
blockquote.warning{
  margin:10px 0 2px;
  padding:10px 12px;
  border-radius:10px;
  max-width:100%;
  font-size:.9rem;
}
blockquote.tip{
  border-left:4px solid var(--ok);
  background:rgba(58,217,122,.08);
}
blockquote.warning{
  border-left:4px solid var(--warn);
  background:rgba(255,214,107,.08);
}

/* Code */
pre{
  background:#0b1222;
  color:#e8f1ff;
  border:1px solid #22304f;
  border-radius:10px;
  padding:9px 10px;
  overflow-x:auto;
  max-width:100%;
  white-space:pre-wrap;
  word-break:break-word;
  font-size:.85rem;
}
code{font-family:Consolas,ui-monospace,monospace}
kbd{background:#0a1221;border:1px solid #22304f;border-bottom-width:2px;border-radius:6px;padding:2px 6px}

/* Tables */
.table-scroll{overflow-x:auto;width:100%;}
table{
  border-collapse:collapse;
  width:100%;
  margin:6px 0;
  border:1px solid #22304f;
  font-size:.85rem;
}
th,td{
  border:1px solid #22304f;
  padding:6px 8px;
  white-space:normal;
  word-break:break-word;
}
th{background:#16213a}

/* Footer */
footer{border-top:1px solid var(--stroke);margin-top:18px;padding:22px 0;color:#9ca8d9;background:linear-gradient(180deg,rgba(22,27,45,.6),rgba(22,27,45,.2))}

</style>
</head>
<body>

<header role="banner">
  <div class="container nav">
    <div class="brand">
      <a href="/"><img class="site-logo" src="/assets/ithub-logo.svg" alt="ITHub: inicio"></a>
    </div>
    <nav class="menu" aria-label="Navegaci√≥n principal">
      <a href="/">HOME</a>
      <a href="/content/content.html">CONTENIDOS</a>
      <a href="/score/ranking.html">RANKING</a>
    </nav>
    <div class="authwrap" id="authWrap" aria-label="Acciones de sesi√≥n">
      <a id="btnLogin" class="pill-btn" href="/login/login.html" role="button">LOGIN</a>
      <a id="btnSignup" class="pill-btn" href="/login/login.html#signup" role="button">REG√çSTRATE</a>
      <div id="userArea" style="display:none;align-items:center;gap:6px">
        <div class="hello">üëã <span id="userNameTop" style="font-weight:900">USER</span></div>
        <a class="pill-btn" href="/user/profile.html" role="button">PERFIL</a>
        <button id="btnLogout" class="pill-btn" type="button">LOGOUT</button>
      </div>
    </div>
  </div>
</header>
<script>
function getCurrentUser(){ try{ return JSON.parse(localStorage.getItem("currentUser")||"null"); }catch{ return null; } }
(function(){
  const u=getCurrentUser();
  const login=document.getElementById('btnLogin');
  const signup=document.getElementById('btnSignup');
  const userArea=document.getElementById('userArea');
  const nameTop=document.getElementById('userNameTop');
  if(u){
    login.style.display='none';
    signup.style.display='none';
    userArea.style.display='flex';
    nameTop.textContent=(u.name||u.email||'USER').toUpperCase();
  }
})();
</script>
<main class="container hero">
  <div style="display:flex;justify-content:center;margin:10px 0">
    <span class="exam-chip azure"><i></i><span>Azure ¬∑ AZ-104</span></span>
  </div>

  <h1>Backup &amp; Restore para VMs y Azure Files (AZ-104)</h1>

  <div class="meta">
    <span class="pill">Dominio: Backup y recuperaci√≥n</span>
    <span class="pill">Nivel: Intermedio</span>
    <span class="pill">Tiempo de lectura: 35‚Äì45 min</span>
    <span class="pill">√öltima revisi√≥n: Nov 2025</span>
  </div>

  <div class="grid">
    <aside class="aside">
      <h3>√çNDICE</h3>
      <ul class="toc">
        <li><a href="#sec0"><small>0.</small> Papel del backup en AZ-104</a></li>
        <li><a href="#sec1"><small>1.</small> Recovery Services Vault y pol√≠ticas</a></li>
        <li><a href="#sec2"><small>2.</small> Backup de m√°quinas virtuales</a></li>
        <li><a href="#sec3"><small>3.</small> Backup de Azure Files y snapshots</a></li>
        <li><a href="#sec4"><small>4.</small> Restauraci√≥n y Cross-Region Restore</a></li>
        <li><a href="#sec5"><small>5.</small> Patrones de examen y laboratorio</a></li>
      </ul>
    </aside>

    <div class="content-wrap">

      <section id="sec0" class="card">
        <h2>0. Papel del backup en AZ-104</h2>
        <p>
          En AZ-104, el backup se eval√∫a como parte de la <b>resiliencia</b> y la
          <b>continuidad de negocio</b>. El objetivo del examen no es que recuerdes todas las
          pantallas del portal, sino que sepas:
        </p>
        <ul>
          <li>Qu√© es un <b>Recovery Services Vault</b> y cu√°ndo usarlo.</li>
          <li>C√≥mo proteger <b>VMs</b> y <b>Azure Files</b> con Azure Backup.</li>
          <li>Qu√© opciones hay para <b>restaurar</b> recursos y c√≥mo minimizar el impacto.</li>
          <li>Cu√°ndo entra en juego <b>Cross-Region Restore</b> y la redundancia de datos.</li>
        </ul>
        <blockquote class="tip">
          Patr√≥n mental: piensa siempre en <b>vault + pol√≠tica + recurso protegido</b>.
          Si falta uno de los tres, el backup no est√° realmente operativo.
        </blockquote>
      </section>

      <section id="sec1" class="card">
        <h2>1. Recovery Services Vault y pol√≠ticas de backup</h2>
        <p>
          El <b>Recovery Services Vault</b> es el coraz√≥n de Azure Backup en IaaS. Es un
          recurso l√≥gico donde se:
        </p>
        <ul>
          <li>Almacenan metadatos de los backups.</li>
          <li>Definen las <b>pol√≠ticas de protecci√≥n</b> (frecuencia + retenci√≥n).</li>
          <li>Orquestan las tareas de backup y restore.</li>
        </ul>

        <h3>Caracter√≠sticas clave que AZ-104 espera que conozcas</h3>
        <ul>
          <li>Es <b>regional</b>: un vault est√° asociado a una regi√≥n concreta.</li>
          <li>Puede proteger recursos de <b>una o varias RG</b> dentro de la misma regi√≥n.</li>
          <li>Soporta <b>soft delete</b> para proteger puntos de recuperaci√≥n borrados por error.</li>
        </ul>

        <h3>Pol√≠ticas de backup</h3>
        <p>
          Las pol√≠ticas definen:
        </p>
        <ul>
          <li><b>Frecuencia</b> (diaria, semanal, etc.).</li>
          <li><b>Hora de ejecuci√≥n</b> del backup.</li>
          <li><b>Retenci√≥n</b> (d√≠as, semanas, meses, a√±os).</li>
        </ul>
        <p>
          En los enunciados suelen jugar con requisitos del tipo:
          ‚Äú<i>retener los backups diarios 30 d√≠as, semanales 12 semanas y mensuales 5 a√±os</i>‚Äù.
          La respuesta suele ser una <b>pol√≠tica de backup con retenci√≥n a largo plazo</b>
          adecuadamente configurada.
        </p>

        <blockquote class="tip">
          Si el requisito menciona <b>retenci√≥n de varios a√±os</b> o cumplimiento legal,
          piensa en una <b>pol√≠tica de backup con retenci√≥n mensual/anual</b>, no en snapshots
          sueltos ni en backups ‚Äúad hoc‚Äù.
        </blockquote>
      </section>

      <section id="sec2" class="card">
        <h2>2. Backup de m√°quinas virtuales en Azure</h2>
        <p>
          Proteger una VM con Azure Backup sigue un patr√≥n casi siempre igual:
        </p>
        <ol>
          <li>Seleccionar la VM y elegir la opci√≥n <b>Backup</b> en el portal.</li>
          <li>Elegir un <b>vault existente</b> o crear uno nuevo.</li>
          <li>Aplicar una <b>pol√≠tica de backup</b> (est√°ndar o personalizada).</li>
          <li>Habilitar el backup y esperar a la primera ejecuci√≥n.</li>
        </ol>

        <h3>Qu√© se respalda exactamente</h3>
        <ul>
          <li>La <b>configuraci√≥n de la VM</b> (tama√±o, discos, etc.).</li>
          <li>Los <b>discos</b> de la m√°quina (SO y datos), de forma consistente.</li>
          <li>Dependiendo del SO, se pueden usar <b>VSS</b> u otros mecanismos para consistencia.</li>
        </ul>

        <h3>Modos de restauraci√≥n habituales</h3>
        <ul>
          <li>
            <b>Restore de VM completa</b>:
            crea una nueva VM a partir del punto de recuperaci√≥n o reemplaza la existente.
          </li>
          <li>
            <b>Restore de discos</b>:
            √∫til cuando quieres montar el disco en otra VM para recuperar solo algunos datos.
          </li>
          <li>
            <b>File-level restore</b> (cuando est√° disponible):
            permite recuperar archivos concretos sin restaurar toda la VM.
          </li>
        </ul>

        <blockquote class="tip">
          En examen: si el escenario habla de ‚Äú<i>restaurar r√°pidamente una VM afectada por un error de actualizaci√≥n</i>‚Äù,
          la opci√≥n m√°s segura es <b>restaurar la VM desde el √∫ltimo punto de recuperaci√≥n</b>
          o <b>crear una nueva VM</b> a partir de ese punto.
        </blockquote>
      </section>

      <section id="sec3" class="card">
        <h2>3. Backup de Azure Files y snapshots</h2>
        <p>
          Azure Backup puede proteger <b>Azure Files</b> mediante instant√°neas incrementales
          de los shares. Es m√°s eficiente que copiar datos a otra cuenta de almacenamiento.
        </p>

        <h3>Flujo t√≠pico de protecci√≥n de Azure Files</h3>
        <ol>
          <li>Desde el vault, seleccionas <b>Backup</b> &gt; <b>Azure File Share</b>.</li>
          <li>Escoges la <b>cuenta de almacenamiento</b> y el share concreto.</li>
          <li>Asocias una <b>pol√≠tica de backup</b> espec√≠fica para ese share.</li>
        </ol>

        <p>Opciones de restauraci√≥n:</p>
        <ul>
          <li><b>Restaurar el share completo</b> a un punto en el tiempo.</li>
          <li>
            <b>Restaurar a nivel de carpeta/archivo</b> cuando solo quieres recuperar un subconjunto.
          </li>
          <li>Elegir restaurar en el mismo share o en otro de destino.</li>
        </ul>

        <p>
          Aunque tambi√©n existen <b>snapshots manuales</b> de Azure Files, en el examen AZ-104
          el enfoque principal est√° en el <b>backup orquestado desde un Recovery Services Vault</b>.
        </p>
      </section>

      <section id="sec4" class="card">
        <h2>4. Restauraci√≥n, Cross-Region Restore y pruebas</h2>
        <p>
          A partir de los puntos de recuperaci√≥n almacenados, Azure Backup permite varias estrategias
          de restauraci√≥n.
        </p>

        <h3>Cross-Region Restore (CRR)</h3>
        <ul>
          <li>Disponible cuando el vault est√° configurado para usar almacenamiento
              <b>GRS o GZRS</b> (seg√∫n la caracter√≠stica).</li>
          <li>Permite restaurar recursos en la <b>regi√≥n emparejada</b> de Azure.</li>
          <li>Es relevante en escenarios de <b>ca√≠da regional</b> o DR extremo.</li>
        </ul>

        <h3>Restaurar en otra suscripci√≥n o RG</h3>
        <ul>
          <li>Dentro del mismo tenant es posible restaurar VMs en <b>otras RG</b> o incluso en
              <b>otra suscripci√≥n</b>, √∫til para entornos de contingencia.</li>
          <li>En el examen, esto suele aparecer como la opci√≥n recomendada para
              aislar restauraciones de producci√≥n.</li>
        </ul>

        <h3>Restauraciones de prueba</h3>
        <p>
          Buenas pr√°cticas que pueden aparecer en las preguntas:
        </p>
        <ul>
          <li>Realizar <b>restores peri√≥dicos de prueba</b> para verificar la validez de los backups.</li>
          <li>Usar nomenclaturas claras para VMs restauradas de prueba (por ejemplo, <code>-test</code>).</li>
          <li>Borrar recursos de prueba cuando ya no sean necesarios para evitar costes.</li>
        </ul>

        <blockquote class="tip">
          Si el escenario pide ‚Äú<i>validar que los backups son restaurables sin impactar en producci√≥n</i>‚Äù,
          la respuesta tipo es realizar <b>restauraciones de prueba a una RG o suscripci√≥n de laboratorio</b>.
        </blockquote>
      </section>

      <section id="sec5" class="card">
        <h2>5. Patrones de examen y laboratorio guiado</h2>

        <h3>Patrones t√≠picos de examen</h3>
        <ul>
          <li>
            ‚Äú<i>Necesitas retener backups durante 7 a√±os para cumplimiento normativo</i>‚Äù
            ‚Üí pol√≠tica con <b>retenci√≥n a largo plazo</b> (mensual/anual) en un Recovery Services Vault.
          </li>
          <li>
            ‚Äú<i>Quieres restaurar un archivo concreto eliminado de un Azure File Share</i>‚Äù
            ‚Üí <b>restore granular</b> de Azure Files desde Azure Backup.
          </li>
          <li>
            ‚Äú<i>Quieres poder recuperarte de la ca√≠da completa de la regi√≥n</i>‚Äù
            ‚Üí evaluar uso de <b>GRS/GZRS + Cross-Region Restore</b> (si est√° soportado).
          </li>
        </ul>

        <h3>Laboratorio recomendado</h3>
        <ol>
          <li>Crear un Recovery Services Vault en una regi√≥n de pruebas.</li>
          <li>Proteger una VM Linux/Windows con una pol√≠tica diaria.</li>
          <li>Crear un Azure File Share, habilitar backup y subir algunos archivos.</li>
          <li>Forzar un backup bajo demanda de la VM y del share.</li>
          <li>Realizar una restauraci√≥n de prueba de la VM (nueva VM) y de un archivo del share.</li>
        </ol>
      </section>

    </div>
  </div>
</main>



<footer role="contentinfo">
  <div class="container" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
    <div style="display:flex;align-items:center;gap:10px">
      <span style="display:inline-flex;align-items:center;gap:8px;border:1px solid var(--stroke);background:var(--badge);padding:6px 10px;border-radius:999px;font-weight:900">
        ITHub.es
      </span>
      <span>¬© 2025 ¬∑ Contenido educativo para certificaciones.</span>
    </div>
    <div><a href="/content/content.html" class="pill-btn">VOLVER A CONTENIDOS</a></div>
  </div>
</footer>

</body>
</html>
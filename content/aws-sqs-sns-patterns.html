
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Patrones con SQS y SNS (SAA-C03) — CertifyLab</title>
  <style>
    :root{
      --bg:#0f1320;--surface:#161b2d;--surface2:#1b2140;--ink:#e8ecff;--muted:#9ca8d9;
      --stroke:#283056;--brand:#6c8bff;--azure:#0078d4;--aws:#ff9900;
      --shadow:0 12px 28px rgba(6,12,40,.45);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,ui-sans-serif,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      color:var(--ink);background:var(--bg);line-height:1.6}
    .container{max-width:900px;margin:0 auto;padding:20px}
    header{position:sticky;top:0;background:linear-gradient(180deg,rgba(15,19,32,.9),rgba(15,19,32,.6));
      backdrop-filter:blur(8px);border-bottom:1px solid var(--stroke)}
    .nav{display:flex;align-items:center;justify-content:space-between;height:60px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:900}
    .logo-pill{width:16px;height:30px;border-radius:10px;background:linear-gradient(180deg,#8aa0ff 0%,#425dff 100%);
      box-shadow:0 0 0 6px rgba(108,139,255,.18)}
    a{color:inherit;text-decoration:none}
    .btn, .pill{display:inline-flex;align-items:center;justify-content:center;height:38px;padding:0 14px;border-radius:12px;
      border:1px solid var(--stroke);font-weight:900}
    .pill{background:linear-gradient(180deg,#7a67ff,#5f48ff);border-color:#3b2fff44;color:#fff}
    .meta{display:flex;gap:10px;flex-wrap:wrap;color:#9ca8d9;font-size:.95rem;margin-top:6px}
    .chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;border:1px solid #2a3150;font-weight:800}
    .chip.az{background:rgba(0,120,212,.16);color:#9fd2ff;border-color:rgba(0,120,212,.4)}
    .chip.aws{background:rgba(255,153,0,.18);color:#ffd79a;border-color:rgba(255,153,0,.4)}
    .dot{width:10px;height:10px;border-radius:999px;display:inline-block}
    .dot.az{background:#0078d4}
    .dot.aws{background:#ff9900}
    h1{font-size:clamp(1.6rem,4.2vw,2.2rem);margin:16px 0 6px}
    h2{margin:22px 0 8px;font-size:1.25rem}
    section{background:linear-gradient(180deg,#111937,#0f1633);border:1px solid var(--stroke);border-radius:14px;
      box-shadow:var(--shadow);padding:16px;margin:14px 0}
    pre{background:#0b122a;border:1px solid #22305f;border-radius:10px;padding:12px;overflow:auto}
    code{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;color:#cde1ff}
    ul{margin:8px 0 0 18px}
    footer{border-top:1px solid var(--stroke);color:#9ca8d9;margin-top:20px;padding:16px 0}
    .note{color:#9ca8d9}
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <div class="brand"><span class="logo-pill"></span> <span>CertifyLab</span></div>
      <a class="btn" href="/index.html">← Volver</a>
    </div>
  </header>
  <main class="container">
    <div class="meta"><span class="dot aws" title="AWS · SAA-C03"></span> <span>Aplica: SAA-C03</span> · <span>Lectura: 6 min</span></div>
    <h1>Desacoplamiento con SQS y SNS</h1>
    <p class="muted">Colas y publicación/suscripción para resiliencia, escalabilidad y reducción de acoplamiento.</p>

    <section>
      <h2>1) Patrones</h2>
      <ul>
        <li><strong>Fanout</strong>: SNS ➜ múltiples suscriptores (SQS, Lambda, HTTP).</li>
        <li><strong>Queueing</strong>: productores ➜ SQS ➜ consumidores escalables.</li>
        <li><strong>FIFO</strong> para orden y deduplicación.</li>
      </ul>
    </section>
    <section>
      <h2>2) Fiabilidad</h2>
      <ul>
        <li>DLQ en SQS para mensajes fallidos; <em>redrive policy</em>.</li>
        <li>Retries exponenciales en consumidores.</li>
      </ul>
      <pre><code># Crear DLQ y asociar (fragmento Terraform)
resource "aws_sqs_queue" "main" { name = "orders" }
resource "aws_sqs_queue" "dlq"  { name = "orders-dlq" }
resource "aws_sqs_queue_redrive_policy" "rp" {
  queue_url = aws_sqs_queue.main.id
  redrive_policy = jsonencode({ deadLetterTargetArn = aws_sqs_queue.dlq.arn, maxReceiveCount = 5 })
}</code></pre>
    </section>
    <section>
      <h2>3) Seguridad</h2>
      <ul>
        <li>Políticas de acceso estrictas; cifrado KMS en colas y temas.</li>
      </ul>
    </section>
    <section>
      <h2>4) Integraciones</h2>
      <ul>
        <li>Trigger de <strong>Lambda</strong> desde SQS; <strong>EventBridge</strong> para enrutado avanzado.</li>
      </ul>
    </section>
    <section>
      <h2>Checklist</h2>
      <ul>
        <li>¿DLQ configurada y monitorizada?</li>
        <li>¿FIFO cuando el orden importaba?</li>
        <li>¿Cifrado y políticas mínimas?</li>
      </ul>
    </section>
    
  </main>
  <footer class="container">© <span id="y"></span> CertifyLab — <a href="/index.html">Inicio</a></footer>
  <script>document.getElementById('y').textContent = new Date().getFullYear();</script>
</body>
</html>

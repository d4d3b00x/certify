<!doctype html><html lang="es"><head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Identidad y acceso en Azure (AZ-104) | ITHub.es</title>
  <meta name="description" content="Guía completa de identidad y acceso para Azure (AZ-104): RBAC, PIM, MFA, Managed Identities, Key Vault, Conditional Access y Entra ID."/>
  <meta name="keywords" content="Azure,AZ-104,Identidad,RBAC,PIM,Key Vault,Managed Identities,MFA,Conditional Access"/>
  <link rel="canonical" href="https://beta.ithub.es/content/azure-identity-az104.html"/>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DYZ3GCXHEK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);} 
    gtag('js', new Date());
    gtag('config', 'G-DYZ3GCXHEK');
  </script>

  <style>
    :root{--bg:#0f1320;--surface:#161b2d;--ink:#e8ecff;--muted:#9ca8d9;--stroke:#283056;--p:#0078d4;--tint:rgba(0,120,212,.18);--chip:#cfe9ff;--bd:rgba(0,120,212,.65);--shadow:0 12px 28px rgba(6,12,40,.45)}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,ui-sans-serif,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;color:var(--ink);background:var(--bg);line-height:1.65}
    .container{max-width:1100px;margin:0 auto;padding:0 18px}
    header{position:sticky;top:0;z-index:50;backdrop-filter:blur(10px);background:linear-gradient(180deg,rgba(15,19,32,.9),rgba(15,19,32,.6));border-bottom:1px solid var(--stroke)}
    .nav{height:64px;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;gap:10px;align-items:center;font-weight:900}
    nav a{color:#cbd6ff;text-decoration:none;padding:10px 12px;border-radius:10px;border:1px solid transparent}
    nav a:hover{border-color:#2a3150;color:#fff}
    .hero{text-align:center;padding:28px 0 16px;border-bottom:1px solid var(--stroke);background:linear-gradient(180deg,#0f1320,#0f1320 70%,#141a33)}
    .eyebrow{display:inline-flex;gap:8px;align-items:center;padding:8px 14px;border-radius:999px;border:1px solid var(--bd);background:var(--tint);color:var(--chip);font-weight:900}
    h1{margin:.6rem 0 .8rem;font-size:clamp(1.9rem,3.8vw,2.6rem)}
    .meta{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}
    .meta .b{padding:8px 12px;border-radius:999px;border:1px solid var(--bd);background:var(--tint);font-weight:800;color:#e8f1ff}
    .layout{display:grid;grid-template-columns:300px 1fr;gap:18px;margin:18px auto;max-width:1200px;padding:0 10px}
    @media(max-width:980px){.layout{grid-template-columns:1fr}}
    .toc{position:sticky;top:86px;background:linear-gradient(180deg,#111937,#0f1633);border:1px solid var(--stroke);border-radius:16px;padding:14px;box-shadow:var(--shadow)}
    .toc h3{margin:0 0 10px;color:#dfe6ff;letter-spacing:.06em;text-transform:uppercase;font-size:14px}
    .toc ol{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}
    .toc a{display:flex;gap:10px;align-items:center;padding:10px 12px;border:1px solid transparent;border-radius:12px;color:#e9f2ff;text-decoration:none}
    .toc a:hover{border-color:var(--bd);background:var(--tint)}
    .dot{width:7px;height:7px;border-radius:999px;background:var(--p);box-shadow:0 0 0 4px rgba(255,255,255,.04)}
    article{background:linear-gradient(180deg,#111937,#0f1633);border:1px solid var(--stroke);border-radius:16px;padding:22px;box-shadow:var(--shadow)}
    article h2{margin:16px 0 8px;font-size:1.22rem;border-left:4px solid var(--p);padding-left:10px}
    .callout{border:1px solid var(--bd);background:var(--tint);border-radius:12px;padding:12px;margin:10px 0}
    .table{width:100%;border-collapse:collapse;margin:.6rem 0;border:1px solid #283056}
    .table th,.table td{border-bottom:1px solid #283056;padding:10px;vertical-align:top}
    .table th{background:#141a33;text-align:left}
    .muted{color:var(--muted)}
    ul{margin-top:0}
  </style>
</head><body>
<header><div class="container nav">
  <div class="brand"><img src="/assets/ithub-logo.svg" alt="ITHub: inicio" style="height:42px"><span>ITHub.es</span></div>
  <nav><a href="/">HOME</a><a href="/content/content.html">CONTENIDOS</a><a href="/score/ranking.html">RANKING</a></nav>
</div></header>

<section class="hero"><div class="container">
  <span class="eyebrow"><svg viewBox='0 0 24 24' fill='currentColor' width="16" height="16"><path d='M3 18h6l3-8 3 8h6l-9-14-9 14z'/></svg>&nbsp; Azure · AZ-104</span>
  <h1>Identidad y acceso en Azure (AZ-104)</h1>
  <div class="meta"><span class='b'>Dominio: Gestión de identidades</span><span class='b'>Nivel: Intermedio</span><span class='b'>Tiempo de lectura: 30–40 min</span><span class='b'>Última revisión: Nov 2025</span></div>
</div></section>

<div class="container layout">
  <aside class="toc"><h3>Índice</h3>
    <ol>
      <li><a href='#entra'><span class='dot'></span><span>1. Microsoft Entra ID</span></a></li>
      <li><a href='#rbac'><span class='dot'></span><span>2. Roles RBAC y ámbitos</span></a></li>
      <li><a href='#pim'><span class='dot'></span><span>3. Privileged Identity Management</span></a></li>
      <li><a href='#mfa'><span class='dot'></span><span>4. MFA y Conditional Access</span></a></li>
      <li><a href='#mi'><span class='dot'></span><span>5. Managed Identities</span></a></li>
      <li><a href='#kv'><span class='dot'></span><span>6. Azure Key Vault</span></a></li>
      <li><a href='#tips'><span class='dot'></span><span>7. Tips de examen</span></a></li>
    </ol>
  </aside>

  <article>
    <p class="muted"><a href="/content/content.html" style="text-decoration:none;color:#cfe1ff">← Volver a contenidos</a></p>

    <h2 id="entra">1. Microsoft Entra ID (Azure AD)</h2>
    <p>Servicio de identidad principal en Azure. Gestiona usuarios, grupos, apps y autenticación.</p>
    <ul>
      <li><b>Usuarios y grupos:</b> base de asignación de roles RBAC y acceso a recursos.</li>
      <li><b>Licencias:</b> P1 y P2 habilitan PIM, Identity Protection y Conditional Access.</li>
      <li><b>Sincronización híbrida:</b> Entra Connect / Cloud Sync desde Active Directory local.</li>
      <li><b>Autenticación:</b> soporta MFA, FIDO2, pass-through y federation.</li>
    </ul>
    <div class="callout"><b>EXAM TIP:</b> Azure AD ahora se llama <b>Microsoft Entra ID</b> — usa este término en el examen.</div>

    <h2 id="rbac">2. Roles RBAC y ámbitos</h2>
    <p><b>Role-Based Access Control (RBAC)</b> otorga permisos según rol y ámbito.</p>
    <table class="table">
      <thead><tr><th>Ámbito</th><th>Ejemplo de uso</th></tr></thead>
      <tbody>
        <tr><td>Tenant / Management Group</td><td>Control global de políticas y compliance.</td></tr>
        <tr><td>Suscripción</td><td>Gestión de facturación y recursos generales.</td></tr>
        <tr><td>Grupo de recursos</td><td>Control sobre un conjunto de servicios relacionados.</td></tr>
        <tr><td>Recurso</td><td>Permiso específico sobre un recurso concreto (VM, Storage, etc.).</td></tr>
      </tbody>
    </table>
    <ul>
      <li><b>Owner:</b> control total (evítalo salvo administración central).</li>
      <li><b>Contributor:</b> puede gestionar, no asignar roles.</li>
      <li><b>Reader:</b> solo lectura.</li>
      <li><b>User Access Administrator:</b> delega permisos RBAC.</li>
      <li><b>Custom roles:</b> define permisos personalizados JSON.</li>
    </ul>

    <h2 id="pim">3. Privileged Identity Management (PIM)</h2>
    <p>Controla accesos privilegiados de manera temporal (“Just-In-Time”).</p>
    <ul>
      <li><b>Asignaciones elegibles:</b> requieren activación manual + MFA.</li>
      <li><b>Duración:</b> configurable (ej. 1h) con registro de auditoría.</li>
      <li><b>Aprobación previa:</b> se puede exigir autorización de otro administrador.</li>
      <li><b>Alertas:</b> detectan roles permanentes o sin uso.</li>
    </ul>
    <div class="callout"><b>EXAM TIP:</b> Preguntas con “acceso temporal” o “just-in-time” → <b>PIM</b>.</div>

    <h2 id="mfa">4. MFA y Conditional Access</h2>
    <p><b>Multi-Factor Authentication (MFA)</b> añade una capa adicional de seguridad.</p>
    <ul>
      <li><b>Recomendado:</b> habilitar MFA para todos los usuarios.</li>
      <li><b>Conditional Access:</b> aplica políticas basadas en condiciones (ubicación, dispositivo, app).</li>
      <li><b>Identity Protection:</b> analiza riesgo de inicio de sesión y usuario.</li>
      <li><b>Self-service password reset (SSPR):</b> permite restablecer la contraseña de forma segura.</li>
    </ul>
    <div class="callout"><b>EXAM TIP:</b> “Aplicar MFA solo fuera del país” → usa <b>Conditional Access</b> con filtros de ubicación.</div>

    <h2 id="mi">5. Managed Identities</h2>
    <p>Permiten que los servicios de Azure se autentiquen en Entra ID sin credenciales manuales.</p>
    <ul>
      <li><b>System-assigned:</b> ligada a una VM o App; se elimina con el recurso.</li>
      <li><b>User-assigned:</b> independiente, reutilizable por varios recursos.</li>
      <li>Se usa para acceder a <b>Key Vault</b>, <b>Storage</b> o APIs protegidas sin guardar secretos.</li>
    </ul>
    <pre>// Ejemplo: asignar acceso a KV
az keyvault set-policy --name kvDemo --object-id &lt;MI_ID&gt; --secret-permissions get list</pre>

    <h2 id="kv">6. Azure Key Vault</h2>
    <p>Almacena secretos, claves y certificados con controles RBAC y auditoría.</p>
    <ul>
      <li><b>Soft-delete y purge protection:</b> evita eliminaciones accidentales.</li>
      <li><b>Access Policies (modelo heredado)</b> o <b>Azure RBAC (recomendado)</b> para permisos.</li>
      <li><b>Networking:</b> usa Private Endpoint + firewall para acceso interno.</li>
      <li><b>Logging:</b> habilita diagnóstico hacia Log Analytics.</li>
    </ul>
    <table class="table">
      <thead><tr><th>Permiso</th><th>Ejemplo</th></tr></thead>
      <tbody>
        <tr><td>get / list</td><td>Leer secretos existentes</td></tr>
        <tr><td>set</td><td>Crear o actualizar un secreto</td></tr>
        <tr><td>delete / purge</td><td>Eliminar permanentemente</td></tr>
      </tbody>
    </table>

    <h2 id="tips">7. Tips de examen AZ-104</h2>
    <ul>
      <li>Los roles se asignan en <b>Azure Resource Manager</b> (ARM), no en AD clásico.</li>
      <li><b>PIM</b> = acceso temporal + MFA + aprobación opcional.</li>
      <li><b>Managed Identities</b> eliminan la necesidad de credenciales en código.</li>
      <li><b>Key Vault</b>: habilita <b>soft-delete</b> siempre.</li>
      <li><b>MFA</b> y <b>Conditional Access</b> son esenciales para proteger identidades.</li>
      <li>Las preguntas suelen combinar RBAC + PIM + Key Vault en un mismo escenario.</li>
    </ul>
  </article>
</div>

<footer style="border-top:1px solid var(--stroke);padding:24px 0;color:#9ca8d9;background:linear-gradient(180deg,rgba(22,27,45,.6),rgba(22,27,45,.2))">
  <div class="container">© 2025 ITHub.es · Identidad y acceso en Azure (AZ-104)</div>
</footer>
</body></html>

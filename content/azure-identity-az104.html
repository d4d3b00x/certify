<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Identidad y Acceso en Azure (AZ-104) ‚Äî ITHub.es</title>
<meta name="description" content="Gu√≠a premium de identidad y acceso para AZ-104: RBAC, PIM, Managed Identities, registros de aplicaciones, Access Reviews y Key Vault." />

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DYZ3GCXHEK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-DYZ3GCXHEK');
</script>

<style>

:root{
  --bg:#0e111a; --surface:#121826; --surface2:#0f1523; --ink:#eaf0ff; --muted:#a9b6e5; --stroke:#24304d;
  --badge:#1a2135; --ok:#3ad97a; --warn:#ffd66b; --bad:#ff6b6b;
  --radius:16px; --shadow:0 24px 48px rgba(8,12,30,.45);
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family:Inter,ui-sans-serif,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
  color:var(--ink);background:var(--bg);line-height:1.65;overflow-x:hidden;
}
a{color:inherit;text-decoration:none}
.container{max-width:1180px;margin:0 auto;padding:0 16px}

/* Header */
header{position:sticky;top:0;z-index:40;backdrop-filter:blur(10px);
  background:linear-gradient(180deg,rgba(10,14,25,.9),rgba(10,14,25,.55));
  border-bottom:1px solid var(--stroke)}
.nav{height:64px;display:flex;align-items:center;justify-content:space-between;gap:10px}
.brand{display:flex;align-items:center;gap:10px;font-weight:900;text-transform:uppercase}
.brand img.site-logo{height:40px;width:auto;display:block}
nav.menu{display:flex;gap:12px;color:var(--muted);font-weight:800;align-items:center;text-transform:uppercase}
nav.menu a{display:inline-flex;align-items:center;justify-content:center;min-width:100px;height:38px;padding:0 12px;border-radius:12px;border:1px solid transparent}
nav.menu a:hover{border-color:#2b3455;color:var(--ink)}
.authwrap{display:flex;align-items:center;gap:6px;background:linear-gradient(180deg,#161d33,#121a31); border:1px solid #2b3455; border-radius:999px; padding:4px 6px; box-shadow:0 8px 20px rgba(5,10,30,.35); max-height:44px;}
.pill-btn{display:inline-flex;align-items:center;justify-content:center;min-width:84px;height:32px;padding:0 12px;border-radius:10px;border:1px solid #3b2fff44;background:linear-gradient(180deg,#7e73ff,#6457ff);color:#fff;font-weight:900;cursor:pointer;font-size:12px;text-transform:uppercase}
.pill-btn:hover{transform:translateY(-1px)}
.hello{display:flex;align-items:center;gap:6px;color:#cbd3ff;font-weight:800;padding:4px 8px;font-size:12px}

/* Hero */
.hero{padding:26px 0 8px}
.exam-chip{ display:inline-flex; align-items:center; gap:10px; padding:8px 14px; 
  border-radius:20px; border:1px solid var(--stroke); background:var(--badge); font-weight:900 }
.exam-chip i{width:16px;height:2px;background:#ffe9cc;display:inline-block;box-shadow:0 6px 0 #ffe9cc, 0 -6px 0 #ffe9cc;border-radius:2px}
.exam-chip.azure{ border-color:rgba(106,169,255,.7); background:rgba(18,30,52,.55); color:#e7f1ff }
h1{font-size:clamp(1.6rem,3.6vw,2.6rem);margin:16px 0 10px;text-align:center}
.meta{display:flex;flex-wrap:wrap;gap:10px;margin:6px 0 0;justify-content:center}
.meta .pill{padding:8px 12px;border:1px solid var(--stroke);border-radius:999px;font-weight:800;background:var(--surface)}

/* Layout */
.grid{
  display:grid;
  grid-template-columns:260px minmax(0,1fr);
  gap:18px;
  margin-top:16px;
}
@media(max-width:980px){
  .grid{grid-template-columns:1fr}
}

/* Sidebar index */
.aside{background:linear-gradient(180deg,#0f1627,#0f1424); border:1px solid var(--stroke); border-radius:var(--radius); padding:14px; box-shadow:var(--shadow)}
.aside h3{margin:8px 0 10px}
.toc{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px}
.toc a{display:flex;align-items:center;gap:10px;padding:8px 10px;border-radius:12px;border:1px solid #22304f;background:#0e1629;font-weight:800;color:#dbe7ff;font-size:.86rem}
.toc a small{color:#9fb3e7;font-weight:700}
.toc a:hover{border-color:#31539a; transform:translateX(2px)}

/* Content column */
.content-wrap{
  max-width:880px;
  margin:0 auto;
}

/* Content card */
.card{background:linear-gradient(180deg,#111937,#0f1633);border:1px solid var(--stroke);border-radius:var(--radius);padding:16px 18px;box-shadow:var(--shadow);margin-bottom:14px}
.card h2{margin:2px 0 8px;font-size:clamp(1.15rem,2.1vw,1.55rem)}
.card h3{margin:10px 0 6px;font-size:1.02rem}
.card p{margin:0 0 6px}
.card ul, .card ol{margin:0 0 6px 20px}

/* Callouts */
blockquote.tip,
blockquote.warning{
  margin:10px 0 2px;
  padding:10px 12px;
  border-radius:10px;
  max-width:100%;
  font-size:.9rem;
}
blockquote.tip{
  border-left:4px solid var(--ok);
  background:rgba(58,217,122,.08);
}
blockquote.warning{
  border-left:4px solid var(--warn);
  background:rgba(255,214,107,.08);
}

/* Code */
pre{
  background:#0b1222;
  color:#e8f1ff;
  border:1px solid #22304f;
  border-radius:10px;
  padding:9px 10px;
  overflow-x:auto;
  max-width:100%;
  white-space:pre-wrap;
  word-break:break-word;
  font-size:.85rem;
}
code{font-family:Consolas,ui-monospace,monospace}
kbd{background:#0a1221;border:1px solid #22304f;border-bottom-width:2px;border-radius:6px;padding:2px 6px}

/* Tables */
.table-scroll{overflow-x:auto;width:100%;}
table{
  border-collapse:collapse;
  width:100%;
  margin:6px 0;
  border:1px solid #22304f;
  font-size:.85rem;
}
th,td{
  border:1px solid #22304f;
  padding:6px 8px;
  white-space:normal;
  word-break:break-word;
}
th{background:#16213a}

/* Footer */
footer{border-top:1px solid var(--stroke);margin-top:18px;padding:22px 0;color:#9ca8d9;background:linear-gradient(180deg,rgba(22,27,45,.6),rgba(22,27,45,.2))}

</style>
</head>
<body>

<header role="banner">
  <div class="container nav">
    <div class="brand">
      <a href="/"><img class="site-logo" src="/assets/ithub-logo.svg" alt="ITHub: inicio"></a>
    </div>
    <nav class="menu" aria-label="Navegaci√≥n principal">
      <a href="/">HOME</a>
      <a href="/content/content.html">CONTENIDOS</a>
      <a href="/score/ranking.html">RANKING</a>
    </nav>
    <div class="authwrap" id="authWrap" aria-label="Acciones de sesi√≥n">
      <a id="btnLogin" class="pill-btn" href="/login/login.html" role="button">LOGIN</a>
      <a id="btnSignup" class="pill-btn" href="/login/login.html#signup" role="button">REG√çSTRATE</a>
      <div id="userArea" style="display:none;align-items:center;gap:6px">
        <div class="hello">üëã <span id="userNameTop" style="font-weight:900">USER</span></div>
        <a class="pill-btn" href="/user/profile.html" role="button">PERFIL</a>
        <button id="btnLogout" class="pill-btn" type="button">LOGOUT</button>
      </div>
    </div>
  </div>
</header>
<script>
function getCurrentUser(){ try{ return JSON.parse(localStorage.getItem("currentUser")||"null"); }catch{ return null; } }
(function(){
  const u=getCurrentUser();
  const login=document.getElementById('btnLogin');
  const signup=document.getElementById('btnSignup');
  const userArea=document.getElementById('userArea');
  const nameTop=document.getElementById('userNameTop');
  if(u){
    login.style.display='none';
    signup.style.display='none';
    userArea.style.display='flex';
    nameTop.textContent=(u.name||u.email||'USER').toUpperCase();
  }
})();
</script>

<main class="container hero">
  <div style="display:flex;justify-content:center;margin:10px 0">
    <span class="exam-chip azure"><i></i><span>Azure ¬∑ AZ-104</span></span>
  </div>
  <h1>Azure Identity & Access (AZ-104) ‚Äî RBAC, PIM y Managed Identities</h1>
  <div class="meta">
    <span class="pill">Dominio: Gesti√≥n de identidades y gobernanza</span>
    <span class="pill">Nivel: Intermedio / Avanzado</span>
    <span class="pill">Tiempo de lectura: 35‚Äì45 min</span>
    <span class="pill">√öltima revisi√≥n: Nov 2025</span>
  </div>

  <div class="grid">
    <aside class="aside">
      <h3>√çNDICE</h3>
      <ul class="toc">
        <li><a href="#sec0"><small>0.</small> Rol de identidad en AZ-104</a></li>
        <li><a href="#sec1"><small>1.</small> Azure AD vs RBAC de Azure</a></li>
        <li><a href="#sec2"><small>2.</small> RBAC: roles, √°mbitos y buenas pr√°cticas</a></li>
        <li><a href="#sec3"><small>3.</small> Privileged Identity Management (PIM)</a></li>
        <li><a href="#sec4"><small>4.</small> Identidades administradas (Managed Identities)</a></li>
        <li><a href="#sec5"><small>5.</small> Registros de aplicaciones y permisos</a></li>
        <li><a href="#sec6"><small>6.</small> Access Reviews y gobernanza de acceso</a></li>
        <li><a href="#sec7"><small>7.</small> Key Vault y secretos en el examen</a></li>
        <li><a href="#sec8"><small>8.</small> Escenarios t√≠picos de examen y laboratorios</a></li>
      </ul>
    </aside>

    <div class="content-wrap">
      
<section id="sec0" class="card">
  <h2>0. Rol de identidad en el examen AZ-104</h2>
  <p>En AZ-104 la identidad es el <b>primer nivel de seguridad</b>. Microsoft quiere comprobar que sabes:</p>
  <ul>
    <li>Diferenciar claramente <b>Azure AD (Entra ID)</b> de <b>RBAC sobre recursos de Azure</b>.</li>
    <li>Asignar permisos con el <b>principio de m√≠nimo privilegio</b>.</li>
    <li>Usar <b>PIM</b> para roles privilegiados temporales.</li>
    <li>Configurar <b>Managed Identities</b> para que las aplicaciones accedan a recursos sin secretos.</li>
    <li>Proteger secretos con <b>Key Vault</b> y delegar permisos correctamente.</li>
  </ul>
  <blockquote class="tip">
    <b>Patr√≥n de examen:</b> cuando el enunciado habla de ‚Äúadministrador que necesita permisos temporales y auditados‚Äù
    casi siempre la respuesta correcta implica <b>Privileged Identity Management (PIM)</b> y un rol elegible.
  </blockquote>
</section>

<section id="sec1" class="card">
  <h2>1. Azure AD (Entra ID) vs RBAC de Azure</h2>
  <p>Dos sistemas de permisos distintos que debes separar mentalmente:</p>
  <ul>
    <li><b>Azure AD / Entra ID</b>: identidades, grupos, apps, MFA, Conditional Access.</li>
    <li><b>RBAC de Azure</b>: permisos sobre <i>recursos</i> como suscripciones, grupos de recursos, VMs, cuentas de almacenamiento, etc.</li>
  </ul>
  <h3>Ejemplos t√≠picos</h3>
  <ul>
    <li>‚ÄúHabilitar MFA para todos los administradores‚Äù ‚Üí <b>Azure AD</b> (pol√≠ticas de acceso condicional).</li>
    <li>‚ÄúConceder acceso de solo lectura a un grupo sobre un grupo de recursos‚Äù ‚Üí <b>RBAC</b> (rol <code>Reader</code> en ese scope).</li>
  </ul>
  <blockquote class="warning">
    Muchas preguntas mezclan identidad de Azure AD con RBAC. Preg√∫ntate siempre:
    <b>¬øest√°n hablando de <i>c√≥mo se autentican</i> los usuarios o de <i>a qu√© recursos</i> acceden?</b>
  </blockquote>
</section>

<section id="sec2" class="card">
  <h2>2. RBAC: roles, √°mbitos y buenas pr√°cticas</h2>
  <p>RBAC se basa en tres conceptos:</p>
  <ul>
    <li><b>Security principal</b>: usuario, grupo, service principal o managed identity.</li>
    <li><b>Rol</b>: colecci√≥n de permisos (por ejemplo, <code>Reader</code>, <code>Contributor</code>, <code>Owner</code>).</li>
    <li><b>√Åmbito (scope)</b>: Management Group, suscripci√≥n, grupo de recursos o recurso individual.</li>
  </ul>

  <h3>√Åmbitos y herencia</h3>
  <p>Las asignaciones se heredan hacia abajo:</p>
  <ul>
    <li>Rol en <b>Management Group</b> ‚Üí aplica a todas las suscripciones y recursos debajo.</li>
    <li>Rol en <b>suscripci√≥n</b> ‚Üí aplica a todos los grupos de recursos y recursos de esa suscripci√≥n.</li>
    <li>Rol en <b>grupo de recursos</b> ‚Üí aplica s√≥lo a los recursos de ese grupo.</li>
  </ul>

  <div class="table-scroll">
    <table>
      <thead><tr><th>Rol</th><th>Permisos clave</th><th>Uso t√≠pico</th></tr></thead>
      <tbody>
        <tr>
          <td><b>Reader</b></td>
          <td>Ver recursos, sin modificarlos.</td>
          <td>Auditores, equipos de soporte de primer nivel.</td>
        </tr>
        <tr>
          <td><b>Contributor</b></td>
          <td>Crear y modificar recursos, sin cambiar asignaciones de rol.</td>
          <td>Equipos DevOps o de plataforma que gestionan recursos.</td>
        </tr>
        <tr>
          <td><b>Owner</b></td>
          <td>Permisos totales, incluido cambiar roles.</td>
          <td>Administradores de suscripci√≥n. √ösalo con mucha cautela.</td>
        </tr>
      </tbody>
    </table>
  </div>

  <h3>Buenas pr√°cticas que suelen salir en el examen</h3>
  <ul>
    <li>Asignar roles siempre a <b>grupos</b>, no a usuarios individuales.</li>
    <li>Revisar peri√≥dicamente las asignaciones (Access Reviews o auditor√≠a de roles).</li>
    <li>Evitar usar <code>Owner</code> salvo para tareas muy concretas.</li>
  </ul>
</section>

<section id="sec3" class="card">
  <h2>3. Privileged Identity Management (PIM)</h2>
  <p><b>PIM</b> permite que los roles privilegiados sean <b>temporales</b> y con <b>elevaci√≥n bajo demanda</b>.</p>
  <h3>Conceptos clave</h3>
  <ul>
    <li><b>Elegible</b> vs <b>Activo</b>: el usuario es ‚Äúelegible‚Äù para el rol y debe activarlo cuando lo necesita.</li>
    <li><b>Tiempo de activaci√≥n</b>: minutos u horas durante los que el rol est√° activo.</li>
    <li><b>Justificaci√≥n y aprobaci√≥n</b>: se puede exigir motivo y aprobaci√≥n para activar el rol.</li>
    <li><b>Auditor√≠a</b>: todas las activaciones quedan registradas.</li>
  </ul>
  <blockquote class="tip">
    En preguntas donde se pida ‚Äú<i>minimizar el tiempo que los usuarios tienen permisos administrativos</i>‚Äù
    la respuesta suele ser: <b>convertir las asignaciones permanentes en roles elegibles usando PIM</b>.
  </blockquote>
</section>

<section id="sec4" class="card">
  <h2>4. Identidades administradas (Managed Identities)</h2>
  <p>Las <b>Managed Identities</b> permiten que las aplicaciones que corren en Azure obtengan tokens
     para acceder a otros recursos <b>sin almacenar secretos ni claves</b>.</p>

  <h3>Tipos</h3>
  <ul>
    <li><b>System-assigned</b>: identidad ligada a un √∫nico recurso (VM, App Service, Function‚Ä¶).</li>
    <li><b>User-assigned</b>: identidad como recurso independiente que puedes adjuntar a varios recursos.</li>
  </ul>

  <h3>Patr√≥n t√≠pico con Key Vault</h3>
  <ol>
    <li>Habilitas una Managed Identity en tu VM o App Service.</li>
    <li>Concedes a esa identidad permisos de <b>Get/List</b> sobre secretos en Key Vault (RBAC o pol√≠ticas de acceso).</li>
    <li>La aplicaci√≥n usa la librer√≠a de Azure para obtener un token y leer el secreto sin ninguna contrase√±a embebida.</li>
  </ol>

  <pre><code># Ejemplo CLI: habilitar identidad administrada en una VM
az vm identity assign \
  -g rg-az104-identity \
  -n vm-app-01</code></pre>

  <blockquote class="warning">
    Si en el enunciado aparece algo como ‚Äú<i>evitar almacenar secretos en c√≥digo o variables de entorno</i>‚Äù,
    la respuesta correcta casi siempre implica <b>Managed Identities + Key Vault</b>.
  </blockquote>
</section>

<section id="sec5" class="card">
  <h2>5. Registros de aplicaciones y permisos</h2>
  <p>Los <b>registros de aplicaciones</b> representan apps que necesitan autenticarse contra Azure AD
     (por ejemplo, una API o una SPA) y obtener permisos.</p>

  <h3>Elementos clave del registro</h3>
  <ul>
    <li><b>Application (client) ID</b>: identificador de la app.</li>
    <li><b>Directory (tenant) ID</b>: inquilino en el que vive la app.</li>
    <li><b>Client secret / certificado</b>: credenciales para apps confidenciales.</li>
    <li><b>API permissions</b>: permisos delegados (en nombre del usuario) o de aplicaci√≥n (app-only).</li>
  </ul>

  <h3>Escenarios t√≠picos en el examen</h3>
  <ul>
    <li>Aplicaci√≥n que necesita leer todos los usuarios del tenant ‚Üí permiso <b>Microsoft Graph</b> de tipo aplicaci√≥n.</li>
    <li>API protegida a la que se accede desde un front-end SPA ‚Üí flujo OAuth2 / OpenID Connect con scopes definidos.</li>
  </ul>
</section>

<section id="sec6" class="card">
  <h2>6. Access Reviews y gobernanza de acceso</h2>
  <p>Los <b>Access Reviews</b> permiten revisar peri√≥dicamente qu√© usuarios y grupos mantienen acceso
     a aplicaciones, grupos o roles espec√≠ficos.</p>
  <ul>
    <li>Definir un <b>scope</b>: grupo de seguridad, app, rol, etc.</li>
    <li>Elegir revisores (propietarios, managers, usuarios auto-revisi√≥n).</li>
    <li>Configurar acciones autom√°ticas al expirar: <i>remove</i>, <i>approve</i>, etc.</li>
  </ul>

  <blockquote class="tip">
    Si una organizaci√≥n quiere asegurarse de que ‚Äú<i>los usuarios no conserven acceso tras cambiar de puesto</i>‚Äù,
    la respuesta t√≠pica es configurar <b>Access Reviews peri√≥dicos</b> sobre los grupos o roles implicados.
  </blockquote>
</section>

<section id="sec7" class="card">
  <h2>7. Key Vault y secretos en el examen</h2>
  <p><b>Azure Key Vault</b> aparece en muchas preguntas combinando identidad y datos. Para AZ-104 debes dominar:</p>
  <ul>
    <li>Uso de Key Vault para almacenar <b>secretos, claves y certificados</b>.</li>
    <li>Protecciones como <b>soft-delete</b> y <b>purge protection</b>.</li>
    <li>Acceso mediante RBAC (rol <code>Key Vault Secrets User</code>, etc.) o pol√≠ticas de acceso cl√°sicas.</li>
    <li>Integraci√≥n con Managed Identities y aplicaciones.</li>
  </ul>

  <pre><code># Conceder acceso a secretos mediante RBAC
az role assignment create \
  --assignee &lt;principalIdMI&gt; \
  --role "Key Vault Secrets User" \
  --scope /subscriptions/&lt;subId&gt;/resourceGroups/&lt;rg&gt;/providers/Microsoft.KeyVault/vaults/&lt;nombreVault&gt;</code></pre>
</section>

<section id="sec8" class="card">
  <h2>8. Escenarios t√≠picos de examen y laboratorios</h2>
  <h3>Escenarios que se repiten</h3>
  <ul>
    <li><b>Administrador con demasiados permisos permanentes</b> ‚Üí PIM + rol elegible + MFA.</li>
    <li><b>App que usa contrase√±as en c√≥digo</b> ‚Üí migrar a Managed Identity + Key Vault.</li>
    <li><b>Auditor√≠a y revisi√≥n de accesos</b> ‚Üí Access Reviews y Activity Logs.</li>
    <li><b>Delegar administraci√≥n de un grupo de recursos</b> ‚Üí rol <code>Contributor</code> al grupo, no a la suscripci√≥n.</li>
  </ul>

  <h3>Laboratorio sugerido</h3>
  <ol>
    <li>Crea un grupo de recursos y asigna el rol <code>Contributor</code> a un grupo de seguridad.</li>
    <li>Habilita PIM para este rol y convierte la asignaci√≥n en elegible con duraci√≥n de 1 hora.</li>
    <li>Habilita Managed Identity en una VM y dale acceso de lectura a secretos en un Key Vault.</li>
    <li>Comprueba desde la VM que puedes leer un secreto usando la CLI o SDK.</li>
  </ol>

  <blockquote class="tip">
    Antes del examen revisa el portal y ubica d√≥nde se gestionan:
    <b>RBAC en recursos</b>, <b>PIM</b>, <b>Access Reviews</b> y <b>App registrations</b>. Eso te dar√° mucha confianza.
  </blockquote>
</section>

    </div>
  </div>
</main>

<footer role="contentinfo">
  <div class="container" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
    <div style="display:flex;align-items:center;gap:10px">
      <span style="display:inline-flex;align-items:center;gap:8px;border:1px solid var(--stroke);background:var(--badge);padding:6px 10px;border-radius:999px;font-weight:900">
        ITHub.es
      </span>
      <span>¬© 2025 ¬∑ Contenido educativo para certificaciones.</span>
    </div>
    <div><a href="/content/content.html" class="pill-btn">VOLVER A CONTENIDOS</a></div>
  </div>
</footer>

</body>
</html>
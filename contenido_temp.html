<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>CertifyLab ‚Äî Filtro de certificaci√≥n + Carrusel 2√ó3</title>
<style>
  :root{
    --bg:#0f1320;--surface:#161b2d;--surface2:#1b2140;--ink:#e8ecff;--muted:#9ca8d9;
    --stroke:#283056;--radius:14px;--shadow:0 12px 28px rgba(6,12,40,.45);
    --pill:#0f1630;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;line-height:1.6}
  .container{max-width:1100px;margin:0 auto;padding:20px}

  h1{margin:0 0 6px}
  .muted{color:var(--muted)}
  .card{background:linear-gradient(180deg,#111937,#0f1633);border:1px solid var(--stroke);border-radius:14px;padding:14px;box-shadow:var(--shadow)}

  /* ===== Selector de certificaci√≥n + simulador sugerido ===== */
  .toolbar{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}
  @media(max-width:800px){.toolbar{grid-template-columns:1fr}}
  .select{
    display:flex;align-items:center;gap:10px;background:var(--surface2);
    border:1px solid var(--stroke);border-radius:12px;padding:12px 14px;
  }
  .select label{font-weight:900;white-space:nowrap}
  .select select{
    appearance:none;background:var(--pill);border:1px solid var(--stroke);
    border-radius:10px;color:var(--ink);font-weight:800;padding:10px 12px;min-width:260px;
  }

  .sim-suggest{display:flex;align-items:center;justify-content:space-between;gap:10px}
  .sim-meta{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
  .chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;font-weight:800}
  .chip.azure{background:rgba(0,120,212,.16);border:1px solid rgba(0,120,212,.4);color:#9fd2ff}
  .chip.aws{background:rgba(255,153,0,.18);border:1px solid rgba(255,153,0,.4);color:#ffd79a}
  .btn{display:inline-flex;align-items:center;justify-content:center;height:40px;padding:0 14px;border-radius:12px;border:1px solid var(--stroke);background:transparent;color:var(--ink);font-weight:900}
  .btn.primary{background:linear-gradient(180deg,#6c8bff,#3e64ff);border:none;color:#fff;box-shadow:var(--shadow)}

  /* ===== Carrusel 2√ó3 paginado ===== */
  .carousel{position:relative;margin-top:14px}
  .track{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;min-height:440px}
  @media(max-width:900px){.track{grid-template-columns:repeat(2,1fr)}}
  @media(max-width:560px){.track{grid-template-columns:1fr}}
  .slide{display:none}
  .slide.show{display:block}
  .cc-head{display:flex;align-items:center;gap:8px;margin-bottom:8px}
  .dot{width:10px;height:10px;border-radius:999px;display:inline-block}
  .dot.az{background:#0078d4}.dot.aws{background:#ff9900}.dot.multi{background:conic-gradient(from 0deg,#ff9900 0 50%,#0078d4 50% 100%)}
  .muted{color:var(--muted)}
  .cc-meta{display:flex;align-items:center;gap:8px}
  .cc-meta .grow{display:inline-flex;align-items:center;gap:8px;margin-right:auto}
  .tiny-btn{
    display:inline-flex;align-items:center;justify-content:center;height:28px;padding:0 10px;border-radius:8px;border:1px solid #3b2fff44;
    background:linear-gradient(180deg,#7a67ff,#5f48ff);color:#fff;font-weight:900;white-space:nowrap
  }
  .car-btn{
    position:absolute;top:45%;transform:translateY(-50%);
    width:44px;height:44px;border-radius:999px;border:1px solid rgba(0,0,0,.08);
    background:rgba(255,255,255,.95);color:#0f1320;font-weight:900;
    display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,.35)
  }
  .car-prev{left:-10px}.car-next{right:-10px}
  .car-btn[disabled]{opacity:.5;cursor:not-allowed}
</style>
</head>
<body>
  <div class="container">
    <h1>Centro de contenidos</h1>
    <p class="muted">Elige la certificaci√≥n para ver su simulador y art√≠culos clave que te ayudan a aprobar.</p>

    <!-- Selector + Sugerencia de simulador -->
    <div class="toolbar">
      <div class="card select">
        <label for="examSelect">Certificaci√≥n:</label>
        <select id="examSelect">
          <option value="all">Todos los contenidos</option>
          <option value="az-104">AZ-104 ¬∑ Microsoft Azure Administrator</option>
          <option value="aws-saa-c03">SAA-C03 ¬∑ AWS Solutions Architect Associate</option>
        </select>
      </div>

      <div class="card sim-suggest" id="simSuggest">
        <div class="sim-meta">
          <span id="simChip" class="chip azure">AZURE</span>
          <strong id="simTitle">AZ-104 Administrator Associate</strong>
        </div>
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <a id="simRank" class="btn" href="/score/ranking.html?quiz=az-104">üèÜ Ranking</a>
          <a id="simStart" class="btn primary" href="quiz.html?quiz=az-104">‚ñ∂ Empezar</a>
        </div>
      </div>
    </div>

    <!-- Carrusel -->
    <div class="carousel">
      <button class="car-btn car-prev" aria-label="Anterior">‚Äπ</button>
      <div id="track" class="track"></div>
      <button class="car-btn car-next" aria-label="Siguiente">‚Ä∫</button>
    </div>
  </div>

<script>
  /* ===== Datos mock ===== */
  const CONTENT = [
    // AZ-104
    {id:'vnet-peering', title:'VNet Peering vs. VPN Gateway', exam:'az-104', provider:'azure', dot:'az',
      blurb:'Cu√°ndo usar peering y cu√°ndo VPN en Azure‚Ä¶', url:'content/vnet-peering-vpn.html'},
    {id:'az-sec-check', title:'Checklist de seguridad de suscripciones', exam:'az-104', provider:'azure', dot:'az',
      blurb:'15 puntos accionables para endurecer tu postura‚Ä¶', url:'content/azure-security-checklist.html'},
    {id:'az-storage', title:'Azure Storage: operaci√≥n y seguridad', exam:'az-104', provider:'azure', dot:'az',
      blurb:'RBAC/SAS, replicaci√≥n y WORM‚Ä¶', url:'content/azure-storage-az104.html'},

    // SAA-C03
    {id:'aws-vpc-ha', title:'Alta disponibilidad en VPC', exam:'aws-saa-c03', provider:'aws', dot:'aws',
      blurb:'Subredes por AZ, NAT, balanceo, resiliencia‚Ä¶', url:'content/aws-vpc-ha.html'},
    {id:'aws-s3', title:'S3: seguridad y rendimiento', exam:'aws-saa-c03', provider:'aws', dot:'aws',
      blurb:'KMS, lifecycle, pol√≠ticas m√≠nimas, endpoints‚Ä¶', url:'content/aws-s3-design-saac03.html'},
    {id:'aws-sqs-sns', title:'Patrones con SQS y SNS', exam:'aws-saa-c03', provider:'aws', dot:'aws',
      blurb:'Fanout, FIFO, DLQ y eventos resilientes‚Ä¶', url:'content/aws-sqs-sns-patterns.html'},

    // Mixtos (aparecen en ambos filtros)
    {id:'immutable', title:'Backup inmutable y ciberrecuperaci√≥n', exam:'mixed', provider:'mixed', dot:'multi',
      blurb:'Dise√±ar un vault y una landing zone‚Ä¶', url:'content/immutable-backup-cyberrecovery.html'},
  ];

  const SIMS = {
    'az-104':      {chip:'AZURE', chipClass:'azure', title:'AZ-104 Administrator Associate', hrefStart:'quiz.html?quiz=az-104',      hrefRank:'/score/ranking.html?quiz=az-104'},
    'aws-saa-c03': {chip:'AWS',   chipClass:'aws',   title:'SAA-C03 Solutions Architect Associate', hrefStart:'quiz.html?quiz=aws-saa-c03', hrefRank:'/score/ranking.html?quiz=aws-saa-c03'}
  };

  /* ===== Estado / refs ===== */
  const PAGE_SIZE = 6; // 2√ó3
  let page = 0, filter = 'all';

  const track = document.getElementById('track');
  const prevBtn = document.querySelector('.car-prev');
  const nextBtn = document.querySelector('.car-next');
  const sel = document.getElementById('examSelect');

  const simChip  = document.getElementById('simChip');
  const simTitle = document.getElementById('simTitle');
  const simStart = document.getElementById('simStart');
  const simRank  = document.getElementById('simRank');

  /* ===== L√≥gica ===== */
  function itemsFiltrados(){
    if(filter==='all') return CONTENT;
    const match = CONTENT.filter(c => c.exam===filter || c.exam==='mixed');
    return match;
  }

  function renderTarjetas(){
    const items = itemsFiltrados();
    track.innerHTML = '';
    items.forEach(it=>{
      const dotClass = it.dot==='az' ? 'az' : it.dot==='aws' ? 'aws' : 'multi';
      const chip = it.provider==='azure' ? `<span class="chip azure"><b>AZURE</b></span>` :
                   it.provider==='aws'   ? `<span class="chip aws"><b>AWS</b></span>` :
                   `<span class="chip azure"><b>AZURE</b></span> ¬∑ <span class="chip aws"><b>AWS</b></span>`;
      const provCode = it.provider==='azure' ? 'AZ-104' : it.provider==='aws' ? 'SAA-C03' : 'AZ/AWS';
      const el = document.createElement('article');
      el.className='card slide';
      el.innerHTML = `
        <div class="cc-head"><span class="dot ${dotClass}"></span><strong>${it.title}</strong></div>
        <p class="muted">${it.blurb}</p>
        <div class="cc-meta">
          <span class="grow">${chip}<span>${provCode}</span></span>
          <a class="tiny-btn" href="${it.url}">Leer</a>
        </div>`;
      track.appendChild(el);
    });
  }

  function renderPagina(){
    const slides = Array.from(track.querySelectorAll('.slide'));
    slides.forEach(s=>s.classList.remove('show'));
    const start = page*PAGE_SIZE, end = start+PAGE_SIZE;
    slides.slice(start,end).forEach(s=>s.classList.add('show'));
    prevBtn.disabled = (page===0);
    nextBtn.disabled = (end>=slides.length);
  }

  function renderSim(){
    const key = filter==='all' ? 'az-104' : filter; // por defecto AZ-104
    const s = SIMS[key];
    simChip.textContent = s.chip;
    simChip.className   = `chip ${s.chipClass}`;
    simTitle.textContent= s.title;
    simStart.href = s.hrefStart;
    simRank.href  = s.hrefRank;
  }

  function rerender(){
    page=0;
    renderSim();
    renderTarjetas();
    renderPagina();
  }

  /* ===== Eventos ===== */
  sel.addEventListener('change', ()=>{ filter = sel.value; rerender(); });
  prevBtn.addEventListener('click', ()=>{ if(page>0){ page--; renderPagina(); }});
  nextBtn.addEventListener('click', ()=>{
    const total = itemsFiltrados().length;
    if((page+1)*PAGE_SIZE < total){ page++; renderPagina(); }
  });

  // init
  rerender();
</script>
</body>
</html>

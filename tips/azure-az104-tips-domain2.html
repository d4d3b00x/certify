<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DYZ3GCXHEK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-DYZ3GCXHEK');
</script>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Microsoft Azure AZ-104 — Domain 2 Tips: Implement & Manage Storage</title>
<link rel="stylesheet" href="/style_global.css"/>
<style>
/* ============ Calm Azure theme (matches Domain 1) ============ */
:root{
  --bg:#f5f8ff;
  --surface:#f7faff;
  --card:#ffffff;
  --ink:#0f172a;
  --muted:#5b6b82;
  --brand:#0a1f44;

  /* Azure brand palette */
  --az:#0078d4;
  --az-2:#3aa0ff;
  --az-dk:#005ea6;

  --ring:rgba(0,120,212,.25);
  --bd:#e4ecff;
  --shadow:0 12px 26px rgba(8,25,68,.08);
  --radius:16px;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Arial,"Helvetica Neue","Noto Sans",sans-serif;
  color:var(--ink);
  background:
    radial-gradient(900px 420px at 10% -10%, #ecf3ff 0, transparent 60%),
    radial-gradient(900px 420px at 90% -10%, #e8f6ff 0, transparent 60%),
    linear-gradient(180deg, var(--surface) 0%, var(--bg) 100%);
  line-height:1.6;
  min-height:100vh;
}
.wrap{max-width:1100px;margin:0 auto;padding:0 20px}

/* Card */
.card{
  background:linear-gradient(180deg,#fff,#fefefe);
  border:1px solid var(--bd);
  border-radius:var(--radius);
  padding:22px;
  box-shadow:var(--shadow);
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.card.path:hover{transform:translateY(-2px);box-shadow:0 18px 38px rgba(8,25,68,.10);border-color:#d8e5ff}

/* Hero */
.hero{
  position:relative; overflow:hidden; text-align:center;
  border:1px solid #e8eeff;
  padding:36px 24px;
  background:
    radial-gradient(120% 180% at 80% -20%, rgba(58,160,255,.18), rgba(58,160,255,0) 62%),
    radial-gradient(120% 180% at 10% -10%, rgba(0,120,212,.16), rgba(0,120,212,0) 65%),
    linear-gradient(180deg,#ffffff,#fbfdff);
}
.badge,.badge1{
  display:inline-flex; align-items:center; gap:10px;
  padding:9px 13px; border-radius:999px; font-weight:900; letter-spacing:.02em;
  border:1px solid #cfe6ff;
  background:linear-gradient(90deg, rgba(58,160,255,.20), rgba(0,120,212,.12));
  color:#033764;
}
h1{
  font-size:clamp(1.6rem,2.1vw + 1rem,2.4rem);
  line-height:1.15;margin:12px 0 8px;color:var(--brand);font-weight:900;
}
.subtitle,.hint,.desc{color:var(--muted)}

/* Grid */
.grid{display:grid;grid-template-columns:1fr;gap:18px;margin:0 0 36px}
@media (min-width:900px){.grid{grid-template-columns:2fr 1fr}}

/* Lists with tiny azure diamond */
ul{margin:0;padding-left:0;list-style:none}
ul li{position:relative; padding:10px 12px 10px 32px; margin:10px 0; border:1px solid #eef3ff; border-radius:12px; background:#fff}
ul li::before{
  content:""; position:absolute; left:10px; top:50%; transform:translateY(-50%) rotate(45deg);
  width:12px; height:12px; border-radius:3px;
  background:linear-gradient(135deg,var(--az),var(--az-2));
  box-shadow:0 2px 6px rgba(0,120,212,.35);
}

/* Code chip */
code{background:#f0f8ff;border:1px solid #d6eaff;border-radius:6px;padding:0 6px}

/* Azure group wrapper (left border blue) */
.azure-group{
  background:#fff;
  border-left:6px solid var(--az);
  border-radius:12px;
  padding:14px 14px;
  margin:8px auto 10px;
  box-shadow:var(--shadow);
}

/* Buttons */
.actions{display:flex;align-items:center;gap:12px;margin:8px 0;flex-wrap:wrap;justify-content:center}
.btn{
  appearance:none;border:1px solid #cfe6ff;cursor:pointer;
  background:var(--az);color:#ffffff;
  font-weight:900;letter-spacing:.2px;padding:12px 18px;border-radius:12px;
  text-decoration:none; display:inline-flex; align-items:center; gap:8px;
  box-shadow:0 8px 18px rgba(0,120,212,.18);
  transition:transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
.btn:hover{transform:translateY(-2px);filter:brightness(1.05)}
.btn:focus{outline:3px solid var(--ring);outline-offset:2px}
.btn.secondary{background:#fff;color:#0a2a4d;border:1px solid #dceaff;box-shadow:none}
.btn.secondary:hover{background:#f7fbff}

/* Tiny tip box */
.tip{
  margin:10px 0; padding:10px 12px; border:1px dashed #bfe1ff;
  background:#f2f9ff; border-radius:10px; color:#073a6a
}

/* Footer note */
.footer{opacity:.95;font-size:.92rem;margin-top:10px;color:#5b6b82}
.footer a{color:#0b66c3;font-weight:800;text-decoration:none}
.footer a:hover{text-decoration:underline}
</style>
</head>
<body>

<div class="wrap">
  <!-- HERO -->
  <section class="card hero" aria-label="Domain 2 overview">
    <span class="badge1">Azure AZ-104 — Domain 2 (Implement & manage storage)</span>
    <h1>Right redundancy, right tier, right access</h1>
    <p class="desc" style="max-width:800px;margin:8px auto 0">
      Domain 2 is ~15–20% of the exam. Master Storage accounts, redundancy choices, tiers, networking, security (SAS, RBAC, ACLs), data protection (soft delete, versioning, immutability),
      Azure Files & File Sync, lifecycle rules, and data transfer with AzCopy.
    </p>
  </section>

  <!-- CONTENT -->
  <section class="azure-group">
    <section class="grid">
      <article class="card path">
        <h2>Patterns that score</h2>
        <ul>
          <li><strong>Pick redundancy by RPO/RTO</strong>: LRS (baseline), ZRS (zonal), GRS/GZRS (cross-region). Use RA-GRS/RA-GZRS for read access to secondary.</li>
          <li><strong>Enable hierarchical namespace</strong> for analytics/big data to get ADLS Gen2 (POSIX ACLs, directories, Data Lake features).</li>
          <li><strong>Prefer User Delegation SAS</strong> with Entra ID + OAuth over account keys; scope narrowly and set short expiry.</li>
          <li><strong>Harden storage networking</strong>: Private Endpoints > Service Endpoints; restrict with storage firewall + VNET rules.</li>
          <li><strong>Protect data by default</strong>: soft delete (blobs/containers/shares), versioning, and immutability policies (time-based or legal hold).</li>
          <li><strong>Lifecycle to control cost</strong>: auto-move to Cool/Archive or delete based on last access/age; exclude hot datasets.</li>
          <li><strong>Azure Files auth</strong>: use AD DS/Entra Kerberos for SMB; consider Premium Files for IOPS/latency.</li>
        </ul>
        <div class="tip">Exam hint: If two designs work, choose the one that avoids account keys, keeps traffic private, and automates tiering.</div>

        <h2>Common pitfalls</h2>
        <ul>
          <li>Creating GPv1 or disabling <em>secure transfer required</em>. Use GPv2 and require HTTPS.</li>
          <li>Using account keys in app settings instead of managed identity + RBAC or User Delegation SAS.</li>
          <li>Forgetting to enable soft delete and versioning before a deletion scenario question.</li>
          <li>Confusing RBAC vs. Blob ACLs: RBAC controls management/data plane roles; ACLs apply within ADLS Gen2 namespace.</li>
          <li>Choosing ZRS where cross-region DR is required (should be GRS/GZRS).</li>
        </ul>

        <h2>Study checklist</h2>
        <ul>
          <li>Storage account kinds: GPv2 (Blob, File, Queue, Table), Premium (BlockBlob, PageBlob, File). Names: 3–24 lower-case letters/numbers.</li>
          <li>Blob types: block, append, page; Access tiers: Hot/Cool/Archive + blob-level tiering and rehydration.</li>
          <li>Networking: Private Endpoints, Service Endpoints, Firewall (allowed networks), Trusted Microsoft services.</li>
          <li>Security: RBAC vs shared keys; SAS (service/account/user delegation); CMK with Key Vault; encryption at rest & in transit.</li>
          <li>Data protection: soft delete (blobs/containers/shares), point-in-time restore for containers, versioning, immutability.</li>
          <li>Azure Files: SMB/NFS, identity integration (AD DS/Azure AD Kerberos), File Sync, snapshots, backup.</li>
          <li>Lifecycle management rules (filters by prefix/tier/age, actions move/cool/archive/delete).</li>
          <li>AzCopy usage and Storage Explorer basics.</li>
        </ul>

        <h2>CLI quick hits</h2>
        <ul>
          <li>Create storage account (GPv2 + HNS):<br/>
            <code>az storage account create -n mystorage12345 -g rg-core -l westeurope --sku Standard_GRS --kind StorageV2 --https-only true --enable-hierarchical-namespace true</code>
          </li>
          <li>Create a blob container:<br/>
            <code>az storage container create -n data --account-name mystorage12345 --auth-mode login</code>
          </li>
          <li>Enable soft delete & versioning (blobs):<br/>
            <code>az storage account blob-service-properties update --account-name mystorage12345 --enable-delete-retention true --delete-retention-days 14 --enable-versioning true</code>
          </li>
          <li>Create lifecycle rule (cool after 30d, archive after 180d):<br/>
            <code>az storage account management-policy create --account-name mystorage12345 --policy @policy.json</code>
          </li>
          <li>Generate User Delegation SAS (example for a container):<br/>
            <code>az storage container generate-sas -n data --as-user --auth-mode login --permissions rlw --expiry 2025-12-31T23:59Z --account-name mystorage12345 -o tsv</code>
          </li>
          <li>Create Premium file share (transaction optimized example):<br/>
            <code>az storage share-rm create --resource-group rg-core --storage-account mystorage12345 --name appshare --access-tier TransactionOptimized --quota 1024</code>
          </li>
          <li>Create Private Endpoint for blob:<br/>
            <code># create PE + NIC in your subnet; target subresource: blob</code>
          </li>
        </ul>

        <h2>AzCopy essentials</h2>
        <ul>
          <li>Upload folder recursively (with login):<br/>
            <code>azcopy copy "./data/*" "https://mystorage12345.blob.core.windows.net/data" --recursive=true --from-to=LocalBlob</code>
          </li>
          <li>Server-side copy between containers:<br/>
            <code>azcopy copy "https://src.blob.core.windows.net/data" "https://dst.blob.core.windows.net/backup" --recursive=true</code>
          </li>
          <li>Use a User Delegation SAS instead of account keys whenever possible.</li>
        </ul>
      </article>

      <aside class="card path">
        <h3>Exam Focus</h3>
        <ul>
          <li>Create and configure storage accounts (redundancy, tiers, HNS, networking).</li>
          <li>Secure access: RBAC, SAS (service/account/user), keys rotation, CMK + Key Vault.</li>
          <li>Configure blob lifecycle, versioning, soft delete, immutability, PITR.</li>
          <li>Deploy and secure Azure Files + File Sync and identity integration.</li>
          <li>Move data with AzCopy; configure static website hosting if asked.</li>
        </ul>

        <h3>Key Azure services</h3>
        <ul>
          <li>Azure Storage (Blob, File, Queue, Table)</li>
          <li>ADLS Gen2 (Hierarchical namespace, ACLs)</li>
          <li>Azure Files (SMB/NFS), Azure File Sync</li>
          <li>Private Link/Private Endpoints, Service Endpoints</li>
          <li>Key Vault (CMK), Defender for Storage, Backup</li>
        </ul>

        <h3>Hands-on ideas</h3>
        <ul>
          <li>Create GPv2 + HNS account, a <code>data</code> container, and set POSIX ACLs for a group.</li>
          <li>Configure lifecycle: Hot → Cool (30d) → Archive (180d) and test rehydration.</li>
          <li>Enable soft delete/versioning, then restore an accidentally deleted blob.</li>
          <li>Deploy Private Endpoint for blob; deny public network access on the account.</li>
          <li>Stand up Azure Files with AD DS auth; test NTFS permissions and snapshots.</li>
        </ul>

        <div class="footer">
          Updated 2025-10-25 · Useful docs:
          <a target="_blank" rel="noopener" href="https://learn.microsoft.com/azure/storage/common/storage-account-overview">Storage accounts</a> ·
          <a target="_blank" rel="noopener" href="https://learn.microsoft.com/azure/storage/blobs/security-recommendations">Blob security</a> ·
          <a target="_blank" rel="noopener" href="https://learn.microsoft.com/azure/storage/blobs/object-replication-overview">Redundancy & replication</a> ·
          <a target="_blank" rel="noopener" href="https://learn.microsoft.com/azure/storage/blobs/lifecycle-management-overview">Lifecycle management</a> ·
          <a target="_blank" rel="noopener" href="https://learn.microsoft.com/azure/storage/files/storage-files-overview">Azure Files</a>
        </div>
      </aside>
    </section>
  </section>

  <!-- NAV -->
  <div class="actions" style="margin:18px 0 42px">
    <a class="btn secondary" href="azure-az104-tips-domain1.html">◀ Back</a>
    <a class="btn" href="azure-az104-tips-domain3.html">Next ▶</a>
  </div>
</div>

</body>
</html>

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>Iniciar sesi√≥n en ITHub.es ‚Äî Simuladores y gu√≠as de certificaci√≥n</title>
  <meta name="description" content="Accede a tu cuenta de ITHub.es para continuar tus simuladores de examen, revisar tu progreso y guardar tus res√∫menes de certificaciones Azure y AWS." />
  <link rel="canonical" href="https://www.ithub.es/login/login.html" />
  <meta name="robots" content="noindex,nofollow" />

  <meta property="og:title" content="Inicia sesi√≥n en ITHub.es" />
  <meta property="og:description" content="Entra en tu perfil para seguir estudiando con simuladores, contenidos y ranking de certificaciones IT." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.ithub.es/login/login.html" />
  <meta property="og:site_name" content="ITHub.es" />

  <link rel="icon" type="image/svg+xml" 
        href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><defs><linearGradient id='g' x1='0' y1='0' x2='0' y2='1'><stop stop-color='%238aa0ff'/><stop offset='1' stop-color='%23425dff'/></linearGradient></defs><rect rx='12' width='64' height='64' fill='url(%23g)'/><text x='32' y='42' font-family='Segoe UI,Arial' font-size='28' fill='white' font-weight='900' text-anchor='middle'>IT</text></svg>'">

  <style>
    :root{
      --bg:#0f1320;--surface:#161b2d;--surface2:#1b2140;--ink:#e8ecff;--muted:#9ca8d9;--stroke:#283056;
      --accent:#6c8bff;--accent-2:#3e64ff;--radius:14px;--shadow:0 12px 28px rgba(6,12,40,.45);
      --ok:#25b873;--bad:#ff6b6b;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;line-height:1.6}
    a{color:#cfe1ff;text-decoration:none}
    a:hover{text-decoration:underline}

    header{position:sticky;top:0;z-index:50;backdrop-filter:blur(10px);
      background:linear-gradient(180deg,rgba(15,19,32,.85),rgba(15,19,32,.55));
      border-bottom:1px solid var(--stroke)}
    .wrap{max-width:960px;margin:0 auto;padding:20px}
    .nav{height:64px;display:flex;align-items:center;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:10px;font-weight:900}
    .dot{width:10px;height:10px;border-radius:50%;background:#6c8bff;box-shadow:0 0 0 6px rgba(108,139,255,.18)}
    .menu{display:flex;gap:18px;color:var(--muted);font-weight:700}
    .menu a{color:inherit;text-decoration:none}
    .menu a:hover{color:#fff}

    .page{max-width:960px;margin:0 auto;padding:24px 20px}
    .card{background:linear-gradient(180deg,#111937,#0f1633);border:1px solid var(--stroke);
      border-radius:var(--radius);box-shadow:var(--shadow);padding:22px}
    .title{margin:0 0 6px;font-weight:900}
    .hint{color:var(--muted);font-size:.94rem}
    .hidden{display:none !important}

    .switcher{display:flex;gap:8px;background:var(--surface2);border:1px solid var(--stroke);
      border-radius:12px;padding:6px;width:fit-content;margin:0 auto 14px}
    .tab{appearance:none;border:1px solid transparent;border-radius:10px;padding:8px 12px;
      font-weight:900;cursor:pointer;background:transparent;color:var(--ink)}
    .tab.active{background:#0f1630;border-color:#31407a;box-shadow:inset 0 0 0 1px #31407a}

    .actions{display:flex;flex-direction:column;gap:10px;margin-top:16px}
    .btn{appearance:none;border:1px solid var(--stroke);border-radius:12px;padding:12px 16px;
      font-weight:900;cursor:pointer;background:#0f1630;color:var(--ink);text-align:center}
    .btn.primary{background:linear-gradient(180deg,var(--accent),var(--accent-2));color:#fff;border-color:transparent;box-shadow:var(--shadow)}
    .btn[disabled]{opacity:.6;cursor:not-allowed}

    .info{
      margin:0 0 10px;padding:10px 12px;border-radius:12px;text-align:left;
      background:rgba(37,184,115,.14);border:1px solid rgba(37,184,115,.35);color:#c6f4e5;font-weight:800
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap nav">
      <div class="brand"><span class="dot"></span> ITHub.es</div>
      <nav class="menu">
        <a href="/">Home</a>
        <a href="/index.html#simuladores">Simuladores</a>
        <a href="/score/ranking.html">Ranking</a>
      </nav>
    </div>
  </header>

  <div class="page">
    <div class="switcher" id="tabBar">
      <button class="tab active" id="tabLogin" type="button">Login</button>
      <button class="tab" id="tabSignup" type="button">Registro</button>
    </div>

    <!-- ‚ÄúLogin‚Äù (pero redirige a Cognito) -->
    <section id="loginCard" class="card">
      <h2 class="title">Iniciar sesi√≥n</h2>
      <p class="hint">
        Te llevaremos a una p√°gina segura de Amazon Cognito para validar tu email.
        Al volver, tu sesi√≥n quedar√° iniciada en ITHub.es.
      </p>

      <div class="actions">
        <button class="btn primary" id="btnLoginCognito" type="button">
          üëâ Continuar con tu cuenta (Cognito)
        </button>
        <button class="btn" id="btnForgot" type="button">
          He olvidado mi contrase√±a
        </button>
      </div>
    </section>

    <!-- ‚ÄúRegistro‚Äù (tambi√©n Hosted UI) -->
    <section id="signupCard" class="card hidden">
      <h2 class="title">Crear cuenta nueva</h2>
      <p class="hint">
        La cuenta se crea en Amazon Cognito usando tu email.
        Despu√©s podr√°s usarla en todos los simuladores y rankings de ITHub.es.
      </p>
      <div class="actions">
        <button class="btn primary" id="btnSignupCognito" type="button">
          ‚ú® Registrarme con mi email
        </button>
        <button class="btn" id="btnBackLogin" type="button">
          Ya tengo cuenta, ir a Login
        </button>
      </div>
    </section>
  </div>

  <script>
    // ===== CONFIG COGNITO (los mismos valores que en tu test que funciona) =====
    const COGNITO_DOMAIN = "https://eu-central-1ivdqjxith.auth.eu-central-1.amazoncognito.com";
    const CLIENT_ID      = "2lj51vu8763on2skv4ntpe9al2";
    const REDIRECT_URI   = "https://main.drlgxq3ev7tby.amplifyapp.com/login/cognito-callback.html";
    const RESPONSE_TYPE  = "code";
    const SCOPE          = "openid email profile";

    function buildCognitoUrl(path){
      return `${COGNITO_DOMAIN}/${path}` +
        `?client_id=${encodeURIComponent(CLIENT_ID)}` +
        `&response_type=${encodeURIComponent(RESPONSE_TYPE)}` +
        `&scope=${encodeURIComponent(SCOPE)}` +
        `&redirect_uri=${encodeURIComponent(REDIRECT_URI)}`;
    }

    const $ = id => document.getElementById(id);

    // Tabs
    function showTab(which){
      const signup = which === "signup";
      $("tabLogin").classList.toggle("active", !signup);
      $("tabSignup").classList.toggle("active", signup);
      $("loginCard").classList.toggle("hidden", signup);
      $("signupCard").classList.toggle("hidden", !signup);
    }
    $("tabLogin").onclick   = () => showTab("login");
    $("tabSignup").onclick  = () => showTab("signup");
    $("btnBackLogin").onclick = () => showTab("login");

    // Botones Cognito
    $("btnLoginCognito").onclick  = () => { window.location.href = buildCognitoUrl("login"); };
    $("btnSignupCognito").onclick = () => { window.location.href = buildCognitoUrl("signup"); };
    $("btnForgot").onclick        = () => { window.location.href = buildCognitoUrl("forgotPassword"); };

    // Vista inicial seg√∫n hash / query (?view=signup)
    document.addEventListener("DOMContentLoaded", () => {
      const hash = (location.hash || "").toLowerCase();
      const params = new URLSearchParams(location.search);
      const view = (params.get("view") || "").toLowerCase();

      const wantsSignup =
        hash === "#signup" || hash === "#register" ||
        view === "signup" || view === "register";

      showTab(wantsSignup ? "signup" : "login");
    });
  </script>
</body>
</html>
